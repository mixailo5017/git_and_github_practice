webpackJsonp(["main"],{"./build/_js/_custom/_changeLanguage.js":function(e,t,n){"use strict";(function(t){var n=function(e,n){t.post("/language",{language:e},"json").done(function(e){"function"==typeof n&&n(),location.reload()}).fail(function(){}).always(function(e){})};e.exports=n}).call(t,n("./node_modules/jquery/dist/jquery.js"))},"./build/_js/_custom/_nav_mobile.js":function(e,t,n){var i=n("./node_modules/jquery/dist/jquery.js"),o=function(){if(i(".m-navbar .nav-main")){var e=i(window).width(),t="closed",n=!1,o=i(".m-wrap"),r=i(".wrapper"),a=(i(".main-header"),i(".user-profile")),s=i(".user-menu"),l=(i(".icon-menu"),i(".icon-menu, .iicon-menu")),d=i(".nav-main"),c=i(".active-language"),u=(i(".m-language"),i(".m-dropdown")),p=i(".m-nav");$activeLang=i(".m-language .active img").attr("src"),i(window).on("resize",function(){e=i(window).width(),e<=1024?s.show():s.hide()}),c.attr("src",$activeLang),a.on("click",function(){e<=1024&&("closed"===t?(r.animate({right:"50%"},250),s.animate({right:"0%"},250),a.addClass("active"),t="user"):"user"===t&&(r.animate({right:"0%"},250),s.animate({right:"-50%"},250),a.removeClass("active"),t="closed"))}),l.on("click",function(){e<=1024&&("closed"===t?(r.animate({right:"-50%"},250),d.animate({left:"0%"},250),l.addClass("active"),o.addClass("h-lock"),t="main"):"main"===t&&(r.animate({right:"0%"},250),d.animate({left:"-50%"},250,function(){l.removeClass("active"),o.removeClass("h-lock")}),t="closed"))}),u.on("click",function(){p.find(i(".dropdown-menu")).hasClass("active")&&(i(this).find(i(".dropdown-menu"))||p.find(i(".dropdown-menu")).removeClass("active")),e<=1024&&"m-nav nav-main"!==i(this).parent().parent().attr("class")&&(i(this).find(i(".dropdown-menu")).is(":hidden")?(i(this).find(i(".dropdown-menu")).addClass("active"),i(this).addClass("open"),n=!0):i(this).find(i(".dropdown-menu")).is(":visible")&&(i(this).find(i(".dropdown-menu")).removeClass("active"),i(this).removeClass("open"),i(this).blur(),n=!1))}),i(document).on("click touchstart",function(t){e<=1024&&!0===n&&(i(t.target).closest(".m-dropdown").length||(u.find(i(".dropdown-menu")).removeClass("active"),u.removeClass("open"),n=!1))})}};e.exports=o},"./build/_js/_custom/_searchbox.js":function(e,t,n){var i=n("./node_modules/jquery/dist/jquery.js"),o=function(){function e(e){return o.sources.hits(e,{hitsPerPage:3})}var t=n("./node_modules/algoliasearch/src/browser/builds/algoliasearch.js"),o=n("./node_modules/autocomplete.js/index.js"),r=n("./build/_js/_custom/_trimHTML.js"),a=t("61EU8IS2O1","fdcec7b6178f9a9c128ae03d9b7f5f40"),s=a.initIndex(algoliaIndexMembers),l=a.initIndex(algoliaIndexProjects);o("#aa-search-input",{hint:!1,keyboardShortcuts:["/"]},[{source:function(t,n){e(s)(t,function(e){var o={dummy:!0,uri:"/expertise?"+i.param({searchtext:'"'+t+'"'}),query:t};0===e.length&&(o.noResults=!0,o.uri="/expertise"),e.push(o),n(e,t)})},displayKey:function(e){return e.dummy?e.noResults?lang.NoResultsFound+" "+lang.AdvancedSearch:lang.FindMoreExperts.replace("%s","'"+e.query+"'"):e.firstname+" "+e.lastname},templates:{header:'<div class="aa-suggestions-category">'+lang.Experts+"</div>",suggestion:function(e,t){if(e.dummy)return e.noResults?"<div>"+lang.NoResultsFound+' <a href="/expertise">'+lang.AdvancedSearch+"</a></div>":lang.FindMoreExperts.replace("%s","'"+t+"'");var n=e._highlightResult.organization.value;return e.organization.length>35&&(n=r(n,35)),'<img src="'+e.image+'"><span>'+e._highlightResult.firstname.value+" "+e._highlightResult.lastname.value+"</span> <span>"+n+"</span>"},empty:'<div class="aa-suggestion aa-suggestion-empty">'+lang.NoResultsFound+'&nbsp;<a href="/expertise/">'+lang.AdvancedSearch+"</a></div>"}},{source:function(t,n){e(l)(t,function(e){var o={projectname:lang.FindMoreProjects.replace("%s","'"+t+"'"),dummy:!0,uri:"/projects?"+i.param({searchtext:'"'+t+'"'}),query:t};0===e.length&&(o.projectname=lang.NoResultsFound+" "+lang.AdvancedSearch,o.noResults=!0,o.uri="/projects"),e.push(o),n(e,t)})},displayKey:"projectname",templates:{header:'<div class="aa-suggestions-category">'+lang.Projects+"</div>",suggestion:function(e,t){if(e.dummy)return e.noResults?"<div>"+lang.NoResultsFound+' <a href="/projects">'+lang.AdvancedSearch+"</a></div>":lang.FindMoreProjects.replace("%s","'"+t+"'");if(void 0!==e._highlightResult.country)var n=e._highlightResult.country.value;else var n="–";return'<img src="'+e.image+'"><span>'+e._highlightResult.projectname.value+"</span><span>"+n+"</span>"},empty:'<div class="aa-suggestion aa-suggestion-empty">'+lang.NoResultsFound+'&nbsp;<a href="/projects/">'+lang.AdvancedSearch+"</a></div>",footer:'<div class="aa-suggestions-footer">Powered by <img src="/images/Algolia_logo_bg-white.svg" width="48" height="17"></div>'}}]).on("autocomplete:selected",function(e,t,n){t.dummy||segmentAnalytics({event:{name:"Dropdown Search Result Followed",properties:{Category:t.uid?"Expert":"Project","Target Id":parseInt(t.objectID),"Target Name":t.uid?t.firstname+" "+t.lastname:t.projectname}}}),window.location.href=t.uri})};e.exports=o},"./build/_js/_custom/_signup_edit.js":function(e,t,n){var i=n("./node_modules/jquery/dist/jquery.js"),o=n("./node_modules/mailcheck/src/mailcheck.js");n("./node_modules/select2/dist/js/select2.js");n("./build/_js/_lib/jquery.validation.js"),e.exports=function(){function e(t,n){if(n.parentText=n.parentText||"",""===i.trim(t.term))return n;if(n.children&&n.children.length>0){for(var o=i.extend(!0,{},n),r=n.children.length-1;r>=0;r--){var a=n.children[r];a.parentText+=n.parentText+" "+n.text;null==e(t,a)&&o.children.splice(r,1)}return o.children.length>0?o:e(t,o)}var s=(n.parentText+" "+n.text).toUpperCase(),l=t.term.toUpperCase();return s.indexOf(l)>-1?n:null}function t(e,t){return e.id.replace(":"," — ")}var n=i("#email"),r=i("#spelling-hint"),a=i("#company-hint"),s="We recommend using your professional email address.";n.focus(function(){r.empty(),a.empty()}),n.on("change",function(){i(this).mailcheck({suggested:function(e,t){var n="Also, did you mean <b><i><a href='#' class='suggestion'><span class='address'>"+t.address+"</span>@<span class='domain'>"+t.domain+"</i></b></a></span>?";r.hide().html(n).fadeIn(500),a.hide().html(s).fadeIn(500)},empty:function(e){var t=n.val().substr(n.val().indexOf("@")+1);o.defaultDomains.indexOf(t)>=0||o.defaultSecondLevelDomains.indexOf(t.substr(t.indexOf(".")))>=0?(console.log("found a personal email address, spelled correctly"),a.hide().html(s).fadeIn(500)):a.empty()}})}),r.on("click",".suggestion",function(){return n.val(i(".suggestion").text()),r.fadeOut(300,function(){i(this).empty()}),i("#discipline").focus(),n.change(),!1}),i(document).ready(function(){i("#project_sector_sub_select2").select2({maximumSelectionLength:6,placeholder:"- Type to Search -",matcher:e,templateSelection:t}),i("#public_status").select2({minimumResultsForSearch:1/0}),i("#discipline").select2(),i("#country").select2()});var l=i("div.errormsg label").filter(function(){return!!i(this).text()}),d=[];l.each(function(e){var t=i(this).parent().prevAll("input, select").attr("name"),n={};n[t]=i(this).text(),d.push(n),i(this).empty()});var c=i("form.form"),u={submit:{settings:{errorListClass:"errormsg"},callback:{}},dynamic:{settings:{trigger:"focusout"}}};c.validate(u);for(var p in d)c.addError(d[p]);u.submit.settings.scrollToError=!0,c.validate(u),i("select").on("select2:open",function(e){var t=i(this).attr("name");c.removeError(t)})}},"./build/_js/_custom/_signup_pickphoto.js":function(e,t,n){(function(t){var i=n("./node_modules/jquery/dist/jquery.js"),o=n("./build/_js/_lib/filedrop.js");o.logging=!1;n("./build/_js/_lib/jquery.tipsy.js"),n("./node_modules/cropper/dist/cropper.js");e.exports=function(){i(function(){"use strict";function e(){setTimeout(function(){var e=i(".cropper-container").height()+60;i(".crop-here").css({height:e})},500)}function n(e){i(".error-head").html(e)}function r(e){"error"===e.status&&n(e.error),"success"===e.status&&(window.location="/signup/confirm")}function a(e){i("#zone").removeClass("fd-zone"),i("#zone").removeClass("filedrop"),i(".fd-file, .drop-meta").hide(),i(".crop-controls, .crop-confirm").show(),f.attr("src",e).cropper({zoomable:!1,modal:!0,aspectRatio:1}),setTimeout(function(){var e=i(".cropper-container").height();i(".crop-wrap").css({height:e})},1e3)}function s(){var e=i("#cropper_image"),t=i(".crop-wrap");e.length&&(t.css({opacity:0}),p=i("#cropper_image").attr("src").replace("/images/signup/",""),i().hide(),i(".drop-meta").hide(),setTimeout(function(){i(".fd-file").hide(),t.animate({opacity:1},500)},500),a(e.attr("src")))}function l(){i.post(u,{}).done(function(){window.location.reload()}).fail(function(){n("ohh no!")})}function d(e,t){if(!m){m=!0;var o={"fd-file":t,"raw-file":e};i.post(c,i.param(o,!0)).done(function(e){r(e),m=!1}).fail(function(){h.removeClass("disabled"),n("There was an error saving the image."),m=!1})}}var c="/signup/photo/upload",u="/signup/photo/remove",p="",f=i(".crop-wrap > img"),h=i(".crop-zone"),g=null,m=!1;h.on("click","[data-method]",function(){var t=i(this),n=t.data(),o=t.attr("id");if(h.hasClass("disabled"))return!1;if(n.method&&(f.cropper(n.method,n.option),"rotate"===n.method&&e()),"saveImage"===o){var r=i(".cropper-container").height()/2;i(".progress").fadeIn("fast").prepend("Saving image please wait.").css({top:r}).children().css({width:"100%"}),h.addClass("disabled"),d(f.cropper("getCroppedCanvas").toDataURL(),p)}"removeImage"===o&&(h.addClass("disabled"),l())}),i("#rotateLeft").tipsy({gravity:"s"}),i("#rotateRight").tipsy({gravity:"s"}),i("html").hasClass("ie9")&&i('#basicUpload input[type="file"]').on("change",function(){i("#upload_photo").fadeIn()}),s(),function(){return"draggable"in document.createElement("span")}()?function(){i("#zone").show();var e={iframe:!1};g=new o.FileDrop("zone",e),g.event("send",function(e){e.each(function(e){n("");var r=Number(e.size/1024),s=Number(r/1024*100/100),l=e.name,d=l.replace(/^.*\./,"").toLowerCase();"png"!==d&&"jpg"!==d&&"gif"!==d?n("Error: File must be a 'jpg', 'png', or 'gif'"):s>5?n("Error: Upload file must be less than 5 MB"):(i(".fd-file").hide(),i(".progress").fadeIn("fast"),e.event("progress",function(e,t){var n=e/t*100+"%";o.byID("bar_zone").style.width=n}),e.event("done",function(e){i(".progress").fadeOut("fast",function(){var o=t.parseJSON(e.responseText);return void 0!==o.status&&"success"===o.status?void a(o.original):void 0!==o.status&&"error"===o.status?(n("Error: "+o.error),void i(".fd-file").show()):(n("Error: File could not be uploaded"),void i(".fd-file").show())})}),e.sendTo(c)),e.event("error",function(){n("Error uploading "+this.name),i(".fd-file").show()})})})}():function(){i("#basicUpload").show(),s()}()})}}).call(t,n("./node_modules/jquery/dist/jquery.js"))},"./build/_js/_custom/_trimHTML.js":function(e,t,n){"use strict";var i=function(e,t){var n=/<\/?em>/,i=e.split(n),o=0,r=!1,a="";return""===i[0]&&(r=!0),i.forEach(function(e,n,i){0!==e.length&&o<t&&(r&&(a+="<em>"),a+=e.substring(0,t-o),r&&(a+="</em>"),r=!r,(o+=e.length)>t&&(a+="…"))}),a};e.exports=i},"./build/_js/_custom/_video_lightbox.js":function(e,t,n){var i=n("./node_modules/jquery/dist/jquery.js");e.exports=function(){i(".play").length>0&&i(".play").magnificPopup({type:"iframe",iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1&rel=0&showinfo=0"}},srcAction:"iframe_src"}})}},"./build/_js/_custom/main.js":function(e,t,n){(function(e){var t=n("./node_modules/jquery/dist/jquery.js");t(function(){n("./build/_js/_custom/_nav_mobile.js")(),n("./build/_js/_custom/_searchbox.js")();n("./node_modules/magnific-popup/dist/jquery.magnific-popup.js");n("./build/_js/_custom/_video_lightbox.js")(),t("form[name='signup_edit']").length>0&&n("./build/_js/_custom/_signup_edit.js")(),t("#zone.signup-info").length>0&&n("./build/_js/_custom/_signup_pickphoto.js")()}),e.changeLanguage=n("./build/_js/_custom/_changeLanguage.js")}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./build/_js/_lib/filedrop.js":function(t,n,i){(function(i,o){var r,a;!function(e,i){r=[n],void 0!==(a=function(t){i(e,t)}.apply(n,r))&&(t.exports=a)}(this,function(t,n){n.randomID=function(e){return(e||"fd")+"_"+(1e4*Math.random()).toFixed()},n.uniqueID=function(e){do{var t=n.randomID(e)}while(n.byID(t));return t},n.byID=function(e){return n.isTag(e)?e:document.getElementById(e)},n.isTag=function(e,t){return"object"==typeof e&&e&&1==e.nodeType&&(!t||e.tagName.toUpperCase()==t.toUpperCase())},n.newXHR=function(){try{return new XMLHttpRequest}catch(n){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}}throw"Cannot create XMLHttpRequest."},n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.toArray=function(e,t){return null===e||void 0===e?[]:(n.isArray(e)||"object"==typeof e&&"callee"in e||(e=[e]),Array.prototype.slice.call(e,t||0))},n.addEvent=function(e,t,n){return e&&t&&n&&(e.attachEvent?(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n])):e.addEventListener(t,n,!1)),e},n.stopEvent=function(e){return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e},n.setClass=function(e,t,i){return(e=n.byID(e))&&null!=t&&(void 0===i||i?n.hasClass(e,t)||(e.className+=" "+t):e.className=e.className.replace(n.classRegExp(t)," ")),e},n.hasClass=function(e,t){return n.classRegExp(t).test((n.byID(e)||{}).className)},n.classRegExp=function(e){return""==e||"object"==typeof e?/$o_O/:new RegExp("(^|\\s+)"+e+"(\\s+|$)","gi")},n.extend=function(e,t,n){e=e||{},t=t||{};for(var i in t)(n||void 0===e[i])&&(e[i]=t[i]);return e},n.callAll=function(e,t,i){var o;if(t=n.toArray(t),"function"==typeof e&&(e=[e]),n.isArray(e))for(var r=0;r<e.length&&("function"!=typeof e[r]||null==(o=e[r].apply(i||this,t)));r++);else if(e)throw"FileDrop event list must be either an Array, Function, undefined or null but "+typeof e+" was given.";return o},n.callAllOfObject=function(e,t,i){if(n.logging&&n.hasConsole){var o=e.events[t]?e.events[t].length||0:0;console.info("FileDrop "+t+" event ("+o+") args:"),console.dir([i])}var r=[n.onObjectCall].concat(e.events.any),a=n.callAll(r,[t].concat(n.toArray(i)),e);return null!=a?a:n.callAll(e.events[t],i,e)},n.appendEventsToObject=function(e,t){if(n.addEventsToObject(this,!1,arguments))return this;switch(arguments.length){case 0:return n.extend({},this.events);case 1:if(null===e)return this.events={},this;if(n.isArray(e)){for(var i={},o=0;o<e.length;o++)i[e[o]]=n.toArray(this.events[e[o]]);return i}if("function"==typeof e)return n.funcNS(e);if("string"==typeof e)return n.toArray(this.events[e]);case 2:if(e=n.toArray(e),null===t){for(var o=0;o<e.length;o++){var r=n.splitNS(e[o]);if(r[0])if(r[1]){if(this.events[r[0]])for(var a=this.events[r[0]].length-1;a>=0;a--)n.funcNS(this.events[r[0]][a])==r[1]&&this.events[r[0]].splice(a,1)}else this.events[r[0]]=[];else for(var s in this.events)arguments.callee.call(this,[s+":"+r[1]],null)}return this}}throw"Bad parameters for FileDrop event()."},n.previewToObject=function(e,t){if(n.addEventsToObject(this,!0,arguments))return this;throw"Bad parameters for FileDrop preview()."},n.addEventsToObject=function(e,t,i){var o=i[0],r=i[1];switch(i.length){case 1:if(o&&"object"==typeof o&&!n.isArray(o)){for(var a in o)arguments.callee(e,t,[a,o[a]]);return!0}case 2:if("function"==typeof r||n.isArray(r)){o=n.toArray(o),r=n.toArray(r);for(var s=t?"unshift":"push",l=0;l<o.length;l++){for(var d=n.splitNS(o[l]),c=0;c<r.length;c++)n.funcNS(r[c],d[1]);e.events[d[0]]=e.events[d[0]]||[],e.events[d[0]][s].apply(e.events[d[0]],r)}return!0}}},n.funcNS=function(e,t){return"function"!=typeof e?e:1==arguments.length?(e[n.nsProp]||"").toString():(e[n.nsProp]=(t||"").toString(),e)},n.splitNS=function(e){return(e||"").match(/^([^:]*):?(.*)$/).slice(1)},n.extend(n,{logging:!0,hasConsole:"console"in window&&console.log&&console.dir,onObjectCall:null,all:[],isIE6:!1,isIE9:!1,isChrome:-1!=(navigator.vendor||"").indexOf("Google"),nsProp:"_fdns"}),n.DropHandle=function(e,t){var i=this;if(i.el=e=n.byID(e),!e)throw"Cannot locate DOM node given to new FileDrop class.";i.opt={zoneClass:"fd-zone",inputClass:"fd-file",iframe:{url:"",callbackParam:"fd-callback",fileParam:"fd-file"},input:null,recreateInput:!0,fullDocDragDetect:!1,multiple:!1,dropEffect:"copy"},n.all.push(i),i.filedrop=null;var o=i.opt.iframe;n.extend(i.opt,t,!0),n.extend(i.opt.iframe,o),n.isChrome&&(i.opt.fullDocDragDetect=!0),i.events={any:[],dragEnter:[],dragLeave:[],dragOver:[],dragEnd:[],dragExit:[],upload:[],uploadElsewhere:[],inputSetup:[],iframeSetup:[],iframeDone:[]},i.on=i.events,i.zone=i.el,i.hook=function(e){0!=i.opt.input&&(i.opt.input=i.opt.input||i.prepareInput(e),i.opt.input&&n.callAllOfObject(i,"inputSetup",i.opt.input)),i.hookDragOn(e),i.hookDropOn(e)},i.hookDragOn=function(e){i.opt.fullDocDragDetect?(i.delegate(document.body,"dragEnter"),n.addEvent(document,"dragleave",function(e){(0==e.clientX&&0==e.clientY||n.isTag(e.relatedTarget,"html"))&&(n.stopEvent(e),n.callAllOfObject(i,"dragLeave",e))})):(i.delegate(e,"dragEnter"),i.delegate(e,"dragLeave")),i.delegate(e,"dragOver"),i.delegate(e,"dragEnd"),i.delegate(e,"dragExit")},i.hookDropOn=function(e){n.isIE9||i.delegate(e,"drop","upload")},i.delegate=function(e,t,o){n.addEvent(e,t.toLowerCase(),function(e){n.stopEvent(e),n.callAllOfObject(i,o||t,e)})},i.prepareInput=function(e){var t=i.findInputRecursive(e)||i.createInputAt(e);if(t){for(var o=t.parentNode;o&&!n.isTag(o,"form");)o=o.parentNode;if(!o)throw"FileDrop file input has no parent form element.";var r=o?o.getAttribute("target"):"";if(r&&n.isTag(n.byID(r),"iframe"))return{file:t,form:o}}return!1},i.findInputRecursive=function(e){for(var t=0;t<e.childNodes.length;t++){var o=e.childNodes[t];if(n.isTag(o,"input")&&"file"==o.getAttribute("type")&&n.hasClass(o,i.opt.inputClass))return o;if(o=arguments.callee(o))return o}},i.createInputAt=function(e){do{var t=n.randomID()}while(n.byID(t));var o=document.createElement("div");o.innerHTML='<iframe src="javascript:false" name="'+t+'"></iframe><form method="post" enctype="multipart/form-data"><input type="hidden" name="'+i.opt.iframe.callbackParam+'" /><input type="file" name="'+i.opt.iframe.fileParam+'" /></form>',o.firstChild.setAttribute("id",t),o.firstChild.style.display="none",o.lastChild.setAttribute("target",t);for(var r=e.firstChild;r&&(!n.isTag(r)||n.isTag(r,"legend"));)r=r.nextSibling;return r?e.insertBefore(o,r):e.appendChild(o),o.lastChild.lastChild},i.abortIFrame=function(){if(i.opt.input.form){var e=n.byID(i.opt.input.form.getAttribute("target"));e&&e.setAttribute("src","javascript:false")}},i.sendViaIFrame=function(e){e=e||i.opt.iframe.url;var t=(i.opt.input||{}).form;if(e&&t){do{var o=n.randomID()}while(o in window);window[o]=function(t){"object"!=typeof t&&(t={response:t,responseXML:"",responseText:(t||"").toString(),readyState:4,status:200,statusText:"OK",getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},setRequestHeader:function(){return this},statusCode:function(){return this},abort:function(){return this}}),n.extend(t,{iframe:!0,url:e}),n.callAllOfObject(i,"iframeDone",t)};for(var r=t.firstChild;r&&(!n.isTag(r,"input")||r.name!=i.opt.iframe.callbackParam);)r=r.nextSibling;return r?r.value=o:e=e.replace(/[?&]+$/,"")+(-1==e.indexOf("?")?"?":"&")+i.opt.iframe.callbackParam+"="+o,t.setAttribute("action",e),n.callAllOfObject(i,"iframeSetup",t),t.submit(),setTimeout(i.resetForm,300),!0}},i.resetForm=function(){var e=i.opt.input&&i.opt.input.file;if(e&&(e.value="",i.opt.recreateInput)){var t=i.opt.input.file=e.cloneNode(!0);e.parentNode.replaceChild(t,e),n.callAllOfObject(i,"inputSetup",[i.opt.input,e])}},i.multiple=function(e){return i.opt.input&&void 0!==e&&(e?i.opt.input.file.setAttribute("multiple","multiple"):i.opt.input.file.removeAttribute("multiple")),i.opt.input&&!!i.opt.input.file.getAttribute("multiple")},i.event=function(e,t){return n.appendEventsToObject.apply(i,arguments)},i.preview=function(e,t){return n.previewToObject.apply(i,arguments)},i.onInputSetup=function(t,o){o?(t.file.clearAttributes&&t.file.clearAttributes(),t.file.mergeAttributes&&t.file.mergeAttributes(o)):i.multiple(i.opt.multiple),n.setClass(t.file,i.opt.inputClass),i.delegate(t.file,"change","upload");var r=t.file.parentNode;if(r&&r.style.display.match(/^(static)?$/)&&(r.style.position="relative"),n.isTag(e,"fieldset")){var a=document.createElement("div");a.style.position="relative",a.style.overflow="hidden",e.parentNode.insertBefore(a,e),a.appendChild(e)}},i.onDragOver=function(e){n.stopEvent(e),e.dataTransfer&&(e.dataTransfer.dropEffect=i.opt.dropEffect)},i.onUpload=function(){for(var e=0;e<n.all.length;e++)n.all[e]!==i&&n.all[e].events&&n.callAllOfObject(n.all[e],"uploadElsewhere",i)},i.event({inputSetup:i.onInputSetup,dragOver:i.onDragOver,upload:i.onUpload}),n.setClass(e,i.opt.zoneClass),i.hook(e)},n.FileDrop=function(e,t){function i(t){return function(){n.setClass(e,o.opt.dragOverClass,t)}}var o=this;e=n.byID(e),o.handle=new n.DropHandle(e,t),o.handle.filedrop=o,n.extend(o.handle.opt,{dragOverClass:"over"}),n.extend(o.handle.opt.iframe,{force:!1}),n.extend(o.handle.events,{send:[],fileSetup:[]}),o.onUpload=function(e){var t=!o.opt.iframe.force&&o.eventFiles(e,!0);t?t.length>0&&n.callAllOfObject(o,"send",[t]):!o.handle.sendViaIFrame()&&n.hasConsole&&console.warn("FileDrop fallback upload triggered but iframe options were not configured - doing nothing.")},o.eventFiles=function(e,t){var i=new n.FileList(e);if(e.dataTransfer&&(e.dataTransfer.length||e.dataTransfer.files))var r=e.dataTransfer;else var r=e.target&&e.target.files||e.srcElement&&e.srcElement.files;if(r){var a=r.items||[];r.files&&(r=r.files);for(var s={},l=0;l<r.length;l++){var d=new n.File(r[l]);s[d.name]&&"image.jpg"!=d.name||(s[d.name]=!0,d.setNativeEntry(a[l]),n.callAllOfObject(o,"fileSetup",d),(d.size>0||d.nativeEntry)&&i.push(d))}}else t&&(i=!1);return i},n.extend(o,o.handle),o.event({upload:o.onUpload,send:o.resetForm,dragEnter:i(!0),dragLeave:i(!1),uploadElsewhere:i(!1)}),o.preview({upload:i(!1)})},n.FileList=function(e){var t=this;t.dropEffect=e&&e.dropEffect||"",t.length=0,e=null,t.push=function(e){return t[t.length++]=e,t},t.pop=function(){if(t.length>0){var e=t.last();return delete t[--t.length],e}},t.first=function(){return t[0]},t.last=function(){return t[t.length-1]},t.remove=function(e){for(;e<t.length-1;e++)t[e]=t[e+1];return se.f.pop(),t},t.clear=function(){for(var e=0;e<t.length;e++)delete t[e];return t.length=0,t},t.reverse=function(){for(var e=0;e<Math.floor(t.length/2);e++)t[e]=t[t.length-e-1];return t},t.concat=function(e){for(var i=new n.FileList,o=0;o<t.length;o++)i[o]=t[o];for(var o=0;e&&o<e.length;o++)i[t.length+o+1]=e[o];return i.length=t.length+(e||[]).length,t},t.sort=function(e,n){for(var i=0;i<t.length;i++)for(var o=0;o<t.length;o++)if(e.call(n||this,t[i],t[o],i,o)<0){var r=t[i];t[i]=t[o],t[o]=r}return t},t.sortBy=function(e,n){for(var i=[],o=0;o<t.length;o++)i.push([o,e.call(n||this,t[o],o)]);i.sort(function(e,t){return e[1]>t[1]?1:e[1]<t[1]?-1:0});for(var o=0;o<i.length;o++)t[o]=i[o][0];return t},t.find=function(e,n){for(var i=0;i<t.length;i++){if(null!=e.call(n||this,t[i],i))return t[i]}},t.each=function(e,n){return t.find(function(){e.apply(this,arguments)},n),t},t.invoke=function(e,t){var i=n.toArray(arguments,1);return this.each(function(t){t[e].apply(t,i)})},t.abort=function(){return this.invoke("abort")},t.findCompare=function(e,n){var i;return t.each(function(e){i=e},n),i},t.filter=function(e,i){var o=new n.FileList;return t.each(function(t){e.apply(this,arguments)&&o.push(t)},i),o},t.largest=function(){return t.findCompare(function(e){return e.size})},t.smallest=function(){return t.findCompare(function(e){return-e.size})},t.oldest=function(){return t.findCompare(function(e){return-e.modDate.getTime()})},t.newest=function(){return t.findCompare(function(e){return e.modDate})},t.ofType=function(e){return e+=-1==e.indexOf("/")?"/":"$",e=new RegExp("^"+e,"i"),t.filter(function(t){return e.test(t.type)})},t.images=function(){return t.ofType("image")},t.named=function(e){return"string"==typeof e?t.find(function(t){return t.name==e}):t.filter(function(t){return e.test(t.name)})}},n.FileList.prototype.length=0,n.FileList.prototype.splice=Array.prototype.splice,n.File=function(t){var i=this;i.nativeFile=t,i.nativeEntry=null,i.name=t.fileName||t.name||"",i.size=t.fileSize||t.size||0,i.type=i.mime=t.fileType||t.type||"",i.modDate=t.lastModifiedDate||new Date,i.xhr=null,i.opt={extraHeaders:!0,xRequestedWith:!0,method:"POST"},i.events={any:[],xhrSetup:[],xhrSend:[],progress:[],done:[],error:[]},i.events.sendXHR=i.events.xhrSend,i.abort=function(){return i.xhr&&i.xhr.abort&&i.xhr.abort(),i},i.sendTo=function(e,t){if(t=n.extend(t,i.opt),t.url=e,i.size)if(window.FileReader){var o=new FileReader;o.onload=function(e){i.sendDataReadyTo(t,e)},o.onerror=function(e){n.callAllOfObject(i,"error",[e])},o.readAsArrayBuffer(i.nativeFile)}else i.sendDataReadyTo(t);else n.hasConsole&&console.warn("Trying to send an empty FileDrop.File.");return i},i.sendDataReadyTo=function(e,t){if(i.abort(),i.xhr=n.newXHR(),i.hookXHR(i.xhr),i.xhr.open(e.method,e.url,!0),i.xhr.overrideMimeType&&i.xhr.overrideMimeType("application/octet-stream"),i.xhr.setRequestHeader("Content-Type","application/octet-stream"),e.extraHeaders){i.xhr.setRequestHeader("X-File-Name",encodeURIComponent(i.name)),i.xhr.setRequestHeader("X-File-Size",i.size),i.xhr.setRequestHeader("X-File-Type",i.type),i.xhr.setRequestHeader("X-File-Date",i.modDate.toGMTString());var o=e.xRequestedWith;if(!0===o){o="FileDrop-XHR-"+(window.FileReader?"FileAPI":"Webkit")}o&&i.xhr.setRequestHeader("X-Requested-With",o)}n.callAllOfObject(i,"xhrSetup",[i.xhr,e]);var r=t&&t.target&&t.target.result?t.target.result:i.nativeFile;return n.callAllOfObject(i,"xhrSend",[i.xhr,r,e]),i.xhr},i.hookXHR=function(e){var t=e.upload||e;e.onreadystatechange=function(t){if(4==e.readyState){try{var o=200==e.status?"done":"error"}catch(t){var o="error"}var r="error"==o?[t,e]:[e,t];n.callAllOfObject(i,o,r)}},t.onprogress=function(t){var o=t.lengthComputable?t.loaded:null;n.callAllOfObject(i,"progress",[o,t.total||null,e,t])}},i.readData=function(e,t,n){return i.read({onDone:e,onError:t,func:n})},i.readDataURL=function(e,t){return i.readData(e,t||!1,"uri")},i.readDataURI=i.readDataURL,i.read=function(t){function o(e,n){"object"==typeof n||(n.message=n),n.fdError=e,!1!==t.onError&&(t.onError||t.onDone).apply(this,arguments)}if(n.extend(t,{onDone:new Function,onError:null,blob:i.nativeFile,func:"",start:0,end:null,mime:""}),!window.FileReader)return o("support",e);(t.start>0||null!=t.end&&t.end)&&(t.blob.slice?(null==t.end&&(t.end=t.blob.size||t.blob.fileSize),t.blob=t.blob.slice(t.start,t.end,t.mime)):n.hasConsole&&console.warn("File Blob/slice() are unsupported - operating on entire File."));var r=new FileReader;r.onerror=function(e){o("read",e)},r.onload=function(e){e.target&&e.target.result?("readAsBinaryString"==t.func&&(e.target.result=String.fromCharCode.apply(null,new Uint8Array(e.target.result))),t.onDone(e.target.result)):r.onerror(e)};var a=t.func;if(n.isArray(a)){var s=a[0];return a[0]=t.blob,r[s].apply(r,a)}if(a&&"bin"!=a){if("url"==a||"uri"==a||"src"==a)a="readAsDataURL";else if("array"==a)a="readAsArrayBuffer";else if("text"==a)a="readAsText";else if("read"!=a.substr(0,4))return r.readAsText(t.blob,a)}else a="readAsBinaryString";return"readAsBinaryString"==a&&(a="readAsArrayBuffer"),r[a](t.blob)},i.listEntries=function(e,t){function o(t){0==(s-=t)&&e&&(e(a),e=null)}if(i.nativeEntry&&i.nativeEntry.isDirectory){t=t||new Function;var r=i.nativeEntry.createReader(),a=new n.FileList,s=0;return r.readEntries(function(e){for(var i=0;i<e.length;i++){var l=e[i];l.file?(s++,l.file(function(e){var t=new n.File(e);t.setNativeEntry(l),a.push(t),o(1)},function(){a.push(n.File.fromEntry(l)),o(1),t.apply(this,arguments)})):a.push(n.File.fromEntry(l))}i?r.readEntries(arguments.callee,t):o(0)},t),!0}},i.setNativeEntry=function(e){i.nativeEntry=e&&e.webkitGetAsEntry&&e.webkitGetAsEntry()},i.event=function(e,t){return n.appendEventsToObject.apply(i,arguments)},i.preview=function(e,t){return n.previewToObject.apply(i,arguments)},i.onXhrSend=function(e,t){e.send(t)},i.event({xhrSend:i.onXhrSend})},n.File.fromEntry=function(e){var t=new n.File(e);return t.setNativeEntry(e),t.nativeFile=null,t},n.jQuery=function(e){if(!(e=e||i||o))throw"No window.jQuery object to integrate FileDrop into.";e.fn.filedrop=function(t){function i(e,t){return function(i){var r=(t||[]).concat(n.toArray(arguments,1));return o.triggerHandler((e+i).toLowerCase(),r)}}var o=this,r=this.data("filedrop");if("string"==typeof t)if(r){if(void 0!==r[t]){var a=r[t];return"function"==typeof a?a.apply(r,n.toArray(arguments,1)):a}e.error("There's no method or property FileDrop."+t+".")}else e.error("$.filedrop('comment') needs an initialized FilrDrop on this element.");else if(t&&"object"!=typeof t)e.error("Invalid $.filedrop() parameter - expected nothing (creates new zone), a string (property to access) or an object (custom zone options).");else if(r){if(!t)return r;n.extend(r.opt,t,!0)}else{var s=new FileDrop(this[0],t);s.$el=e(this),this.first().data("filedrop",s),s.event("any",i("fd")),s.on.fileSetup.push(function(e){e.event("any",i("file",[e]))})}return o}},t.FileDrop=n.FileDrop})}).call(n,i("./node_modules/jquery/dist/jquery.js"),i("./node_modules/jquery/dist/jquery.js"))},"./build/_js/_lib/jquery.tipsy.js":function(e,t,n){(function(e){!function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function n(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}function i(t,n){this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var i=this.tip();i.find(".tipsy-inner")[this.options.html?"html":"text"](n),i[0].className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var o,r=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),a=i[0].offsetWidth,s=i[0].offsetHeight,l=t(this.options.gravity,this.$element[0]);switch(l.charAt(0)){case"n":o={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-a/2};break;case"s":o={top:r.top-s-this.options.offset,left:r.left+r.width/2-a/2};break;case"e":o={top:r.top+r.height/2-s/2,left:r.left-a-this.options.offset};break;case"w":o={top:r.top+r.height/2-s/2,left:r.left+r.width+this.options.offset}}2==l.length&&("w"==l.charAt(1)?o.left=r.left+r.width/2-15:o.left=r.left+r.width/2-a+15),i.css(o).addClass("tipsy-"+l),i.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+l.charAt(0),this.options.className&&i.addClass(t(this.options.className,this.$element[0])),this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):i.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;this.fixTitle();var e,n=this.options;return"string"==typeof n.title?e=t.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){function n(n){var o=e.data(n,"tipsy");return o||(o=new i(n,e.fn.tipsy.elementOptions(n,t)),e.data(n,"tipsy",o)),o}function o(){var e=n(this);e.hoverState="in",0==t.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&e.show()},t.delayIn))}function r(){var e=n(this);e.hoverState="out",0==t.delayOut?e.hide():setTimeout(function(){"out"==e.hoverState&&e.hide()},t.delayOut)}if(!0===t)return this.data("tipsy");if("string"==typeof t){var a=this.data("tipsy");return a&&a[t](),this}if(t=e.extend({},e.fn.tipsy.defaults,t),t.live||this.each(function(){n(this)}),"manual"!=t.trigger){var s=t.live?"live":"bind",l="hover"==t.trigger?"mouseenter":"focus",d="hover"==t.trigger?"mouseleave":"blur";this[s](l,o)[s](d,r)}return this},e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");t&&n(t)||e(this).remove()})},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoBounds=function(t,n){return function(){var i={ns:n[0],ew:n.length>1&&n[1]},o=e(document).scrollTop()+t,r=e(document).scrollLeft()+t,a=e(this);return a.offset().top<o&&(i.ns="n"),a.offset().left<r&&(i.ew="w"),e(window).width()+e(document).scrollLeft()-a.offset().left<t&&(i.ew="e"),e(window).height()+e(document).scrollTop()-a.offset().top<t&&(i.ns="s"),i.ns+(i.ew?i.ew:"")}}}(e)}).call(t,n("./node_modules/jquery/dist/jquery.js"))},"./build/_js/_lib/jquery.validation.js":function(module,exports,__webpack_require__){(function(__webpack_provided_window_dot_jQuery){(function(){!function(window,document,$,undefined){function _buildRegexFromString(e){function t(){window.Debug.log({function:"_buildRegexFromString()",arguments:"{pattern: {"+(n||"")+"}, modifier: {"+(i||"")+"}",message:"WARNING - Invalid regex given: "+e}),window.Debug.print()}if(!e||"string"!=typeof e&&!(e instanceof RegExp))return t(),!1;"string"!=typeof e&&(e=e.toString());for(var n,i,o,r=e.charAt(0),a=e.length-1;a>0&&/[gimsxeU]/.test(e.charAt(a));)a--;e.charAt(a)!==r&&(r=null),r&&a!==e.length-1&&(i=e.substr(a+1,e.length-1)),n=r?e.substr(1,a-1):e;try{o=new RegExp(n,i)}catch(e){return t(),!1}return o}window.Validation={form:[],labels:{},hasScrolled:!1},"function"!=typeof Object.preventExtensions&&(Object.preventExtensions=function(e){return e});var _rules={NOTEMPTY:/\S/,INTEGER:/^\d+$/,NUMERIC:/^\d+(?:[,\s]\d{3})*(?:\.\d+)?$/,MIXED:/^[\w\s-]+$/,NAME:/^['a-zãàáäâẽèéëêìíïîõòóöôùúüûñç\s-]+$/i,NOSPACE:/^(?!\s)\S*$/,TRIM:/^[^\s].*[^\s]$/,DATE:/^\d{4}-\d{2}-\d{2}(\s\d{2}:\d{2}(:\d{2})?)?$/,EMAIL:/^([^@]+?)@(([a-z0-9]-*)*[a-z0-9]+\.)+([a-z0-9]+)$/i,URL:/^(https?:\/\/)?((([a-z0-9]-*)*[a-z0-9]+\.?)*([a-z0-9]+))(\/[\w?=\.-]*)*$/,PHONE:/^(\()?\d{3}(\))?(-|\s)?\d{3}(-|\s)\d{4}$/,OPTIONAL:/\S/,COMPARISON:/^\s*([LV])\s*([<>]=?|==|!=)\s*([^<>=!]+?)\s*$/},_messages={default:"$ contain error(s).",NOTEMPTY:"$ must not be empty.",INTEGER:"$ must be an integer.",NUMERIC:"$ must be numeric.",MIXED:"$ must be letters or numbers (no special characters).",NAME:"$ must not contain special characters.",NOSPACE:"$ must not contain spaces.",TRIM:"$ must not start or end with space character.",DATE:"$ is not a valid with format YYYY-MM-DD.",EMAIL:"$ is not valid.",URL:"$ is not valid.",PHONE:"$ is not a valid phone number.","<":"$ must be less than % characters.","<=":"$ must be less or equal to % characters.",">":"$ must be greater than % characters.",">=":"$ must be greater or equal to % characters.","==":"$ must be equal to %","!=":"$ must be different than %"},_data={validation:"data-validation",validationMessage:"data-validation-message",regex:"data-validation-regex",regexReverse:"data-validation-regex-reverse",regexMessage:"data-validation-regex-message",group:"data-validation-group",label:"data-validation-label",errorList:"data-error-list"},_options={submit:{settings:{form:null,display:"inline",insertion:"append",allErrors:!1,trigger:"click",button:"[type='submit']",errorClass:"error",errorListClass:"error-list",errorListContainer:null,inputContainer:null,clear:"focusin",scrollToError:!1},callback:{onInit:null,onValidate:null,onError:null,onBeforeSubmit:null,onSubmit:null,onAfterSubmit:null}},dynamic:{settings:{trigger:null,delay:300},callback:{onSuccess:null,onError:null,onComplete:null}},rules:{},messages:{},labels:{},debug:!1},_supported={submit:{settings:{display:["inline","block"],insertion:["append","prepend"],allErrors:[!0,!1],clear:["focusin","keypress",!1],trigger:["click","dblclick","focusout","hover","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","toggle"]}},dynamic:{settings:{trigger:["focusout","keydown","keypress","keyup"]}},debug:[!0,!1]},Validation=function(node,options){function extendRules(){options.rules=$.extend(!0,{},_rules,options.rules)}function extendMessages(){options.messages=$.extend(!0,{},_messages,options.messages)}function extendOptions(){options instanceof Object||(options={});var e=Object.preventExtensions($.extend(!0,{},_options));for(var t in options)if(options.hasOwnProperty(t)&&"debug"!==t)if(~["labels","messages","rules"].indexOf(t)&&options[t]instanceof Object)e[t]=options[t];else if(_options[t]&&options[t]instanceof Object){for(var n in options[t])if(options[t].hasOwnProperty(n))if(_options[t][n]&&options[t][n]instanceof Object){for(var i in options[t][n])options[t][n].hasOwnProperty(i)&&_supported[t]&&_supported[t][n]&&_supported[t][n][i]&&-1===$.inArray(options[t][n][i],_supported[t][n][i])&&(options.debug&&window.Debug.log({node:node,function:"extendOptions()",arguments:"{"+i+": "+JSON.stringify(options[t][n][i])+"}",message:"WARNING - "+i.toString()+": "+JSON.stringify(options[t][n][i])+" - unsupported option"}),delete options[t][n][i]);e[t]&&e[t][n]&&(e[t][n]=$.extend(Object.preventExtensions(e[t][n]),options[t][n]))}else options.debug&&window.Debug.log({node:node,function:"extendOptions()",arguments:"{"+n+": "+JSON.stringify(options[t][n])+"}",message:"WARNING - "+n+" - invalid option"})}else options.debug&&window.Debug.log({node:node,function:"extendOptions()",arguments:"{"+t+": "+JSON.stringify(options[t])+"}",message:"WARNING - "+t+" - invalid option"});options.debug&&$.inArray(options.debug,-1!==_supported.debug)&&(e.debug=options.debug),e.dynamic.settings.trigger&&"keypress"===e.dynamic.settings.trigger&&"keypress"===e.submit.settings.clear&&(e.dynamic.settings.trigger="keydown"),options=e}function delegateDynamicValidation(){if(!options.dynamic.settings.trigger)return!1;if(options.debug&&window.Debug.log({node:node,function:"delegateDynamicValidation()",message:"OK - Dynamic Validation activated on "+node.length+" form(s)"}),!node.find("["+_data.validation+"],["+_data.regex+"]")[0])return options.debug&&window.Debug.log({node:node,function:"delegateDynamicValidation()",arguments:"node.find(["+_data.validation+"],["+_data.regex+"])",message:"ERROR - ["+_data.validation+"] not found"}),!1;var e=options.dynamic.settings.trigger+delegateSuffix;"focusout"!==options.dynamic.settings.trigger&&(e+=" change"+delegateSuffix+" paste"+delegateSuffix),$.each(node.find("["+_data.validation+"],["+_data.regex+"]"),function(t,n){$(n).unbind(e).on(e,function(e){if($(this).is(":disabled"))return!1;var t=this,n=e.keyCode||null;_typeWatch(function(){validateInput(t)?_executeCallback(options.dynamic.callback.onSuccess,[node,t,n]):(displayOneError(t.name),_executeCallback(options.dynamic.callback.onError,[node,t,n,errors[t.name]])),_executeCallback(options.dynamic.callback.onComplete,[node,t,n])},options.dynamic.settings.delay)})})}function delegateValidation(){_executeCallback(options.submit.callback.onInit,[node]);var e=options.submit.settings.trigger+".vd";if(options.debug&&window.Debug.log({node:node,function:"delegateValidation()",message:"OK - Validation activated on "+node.length+" form(s)"}),!node.find(options.submit.settings.button)[0])return options.debug&&window.Debug.log({node:node,function:"delegateValidation()",arguments:"{button: "+options.submit.settings.button+"}",message:'ERROR - node.find("'+options.submit.settings.button+'") not found'}),!1;node.on("submit",!1),node.find(options.submit.settings.button).off(".vd").on(e,function(e){return e.preventDefault(),resetErrors(),_executeCallback(options.submit.callback.onValidate,[node]),validateForm()?(_executeCallback(options.submit.callback.onBeforeSubmit,[node]),options.submit.callback.onSubmit?_executeCallback(options.submit.callback.onSubmit,[node,formData]):submitForm(),_executeCallback(options.submit.callback.onAfterSubmit,[node])):(displayErrors(),_executeCallback(options.submit.callback.onError,[node,errors,formData])),options.debug&&window.Debug.print(),!1})}function validateForm(){var e=!0;return formData={},$.each(node.find('input:not([type="submit"]), select, textarea'),function(t,n){n=$(n);var i=_getInputValue(n[0]),o=n.attr("name");o&&(formData[o]=i),n.attr("disabled")||!n.attr(_data.validation)&&!n.attr(_data.regex)||validateInput(n[0],i)||(e=!1)}),prepareFormData(),e}function prepareFormData(){var e,t={};for(var n in formData)if(formData.hasOwnProperty(n)){0,e=n.split(/\[(.+?)]/g);for(var i={},o=[],r=e.length-1;r>=0;r--)""!==e[r]?(o.length<1?i[e[r]]=Number(formData[n])||formData[n]:(i={},i[e[r]]=o[o.length-1]),o.push(i)):e.splice(r,1);t=$.extend(!0,t,i)}formData=t}function validateInput(e,t){var n=$(e).attr("name"),t=t||_getInputValue(e);if(!n)return options.debug&&window.Debug.log({node:node,function:"validateInput()",arguments:'$(input).attr("name")',message:"ERROR - Missing input [name]"}),!1;var i=n.replace(/]$/,"").split(/]\[|[[\]]/g),o=window.Validation.labels[n]||options.labels[n]||$(e).attr(_data.label)||i[i.length-1],r=$(e).attr(_data.validation),a=$(e).attr(_data.validationMessage),s=$(e).attr(_data.regex),l=!($(e).attr(_data.regexReverse)===undefined),d=$(e).attr(_data.regexMessage),c=!1;if(r&&(r=_api._splitValidation(r)),r instanceof Array&&r.length>0){if(""===$.trim(t)&&~r.indexOf("OPTIONAL"))return!0;$.each(r,function(e,i){if(!0===c)return!0;try{validateRule(t,i)}catch(e){!a&&options.submit.settings.allErrors||(c=!0),e[0]=a||e[0],registerError(n,e[0].replace("$",o).replace("%",e[1]))}})}if(s){var u=_buildRegexFromString(s);if(!(u instanceof RegExp))return!0;try{validateRule(t,u,l)}catch(e){e[0]=d||e[0],registerError(n,e[0].replace("$",o))}}return!errors[n]||errors[n]instanceof Array&&0===errors[n].length}function validateRule(value,rule,reversed){if(rule instanceof RegExp){var isValid=rule.test(value);if(reversed&&(isValid=!isValid),!isValid)throw[options.messages.default,""]}else if(options.rules[rule]){if(!options.rules[rule].test(value))throw[options.messages[rule],""]}else{var comparison=rule.match(options.rules.COMPARISON);if(!comparison||4!==comparison.length)return void(options.debug&&window.Debug.log({node:node,function:"validateRule()",arguments:"value: "+value+" rule: "+rule,message:"WARNING - Invalid comparison"}));var type=comparison[1],operator=comparison[2],compared=comparison[3],comparedValue;switch(type){case"L":if(isNaN(compared))return options.debug&&window.Debug.log({node:node,function:"validateRule()",arguments:"compare: "+compared+" rule: "+rule,message:'WARNING - Invalid rule, "L" compare must be numeric'}),!1;if(!value||!1===eval(value.length+operator+parseFloat(compared)))throw[options.messages[operator],compared];break;case"V":default:if(isNaN(compared)){if(!(comparedValue=node.find('[name="'+compared+'"]').val()))return options.debug&&window.Debug.log({node:node,function:"validateRule()",arguments:"compare: "+compared+" rule: "+rule,message:'WARNING - Unable to find compared field [name="'+compared+'"]'}),!1;if(!value||!eval('"'+encodeURIComponent(value)+'"'+operator+'"'+encodeURIComponent(comparedValue)+'"'))throw[options.messages[operator].replace(" characters",""),compared]}else if(!value||isNaN(value)||!eval(value+operator+parseFloat(compared)))throw[options.messages[operator].replace(" characters",""),compared]}}}function registerError(e,t){errors[e]||(errors[e]=[]),t=t.capitalize();for(var n=!1,i=0;i<errors[e].length;i++)if(errors[e][i]===t){n=!0;break}n||errors[e].push(t)}function displayOneError(e){var t,n,i,o,r,a,s='<div class="'+options.submit.settings.errorListClass+'" '+_data.errorList+"><ul></ul></div>";if(!errors.hasOwnProperty(e))return!1;if(t=node.find('[name="'+e+'"]'),o=null,!t[0])return options.debug&&window.Debug.log({node:node,function:"displayOneError()",arguments:'[name="'+e+'"]',message:'ERROR - Unable to find input by name "'+e+'"'}),!1;if(r=t.attr(_data.group),r?(a=node.find('[name="'+e+'"]'),o=node.find('[id="'+r+'"]'),o[0]&&(o.addClass(options.submit.settings.errorClass),i=o)):(t.addClass(options.submit.settings.errorClass),options.submit.settings.inputContainer&&t.parentsUntil(node,options.submit.settings.inputContainer).addClass(options.submit.settings.errorClass),n=t.attr("id"),n&&(o=node.find('label[for="'+n+'"]')[0]),o||(o=t.parentsUntil(node,"label")[0]),o&&(o=$(o),o.addClass(options.submit.settings.errorClass))),"inline"===options.submit.settings.display?i=options.submit.settings.errorListContainer?t.parentsUntil(node,options.submit.settings.errorListContainer):i||t.parent():"block"===options.submit.settings.display&&(i=node),"inline"===options.submit.settings.display&&i.find("["+_data.errorList+"]")[0])return!1;("inline"===options.submit.settings.display||"block"===options.submit.settings.display&&!i.find("["+_data.errorList+"]")[0])&&("append"===options.submit.settings.insertion?i.append(s):"prepend"===options.submit.settings.insertion&&i.prepend(s));for(var l=0;l<errors[e].length;l++)i.find("["+_data.errorList+"] ul").append("<li>"+errors[e][l]+"</li>");if(options.submit.settings.clear||options.dynamic.settings.trigger){r&&a&&(t=a);var d="coucou"+resetSuffix;options.submit.settings.clear&&(d+=" "+options.submit.settings.clear+resetSuffix,~["radio","checkbox"].indexOf(t[0].type)&&(d+=" change"+resetSuffix)),options.dynamic.settings.trigger&&(d+=" "+options.dynamic.settings.trigger+resetSuffix,"focusout"===options.dynamic.settings.trigger||~["radio","checkbox"].indexOf(t[0].type)||(d+=" change"+resetSuffix+" paste"+resetSuffix)),t.unbind(d).on(d,function(e,t,n,i,o){return function(){o?$(n).hasClass(options.submit.settings.errorClass)&&resetOneError(e,t,n,i,o):$(t).hasClass(options.submit.settings.errorClass)&&resetOneError(e,t,n,i)}}(e,t,o,i,r))}if(options.submit.settings.scrollToError&&!window.Validation.hasScrolled){window.Validation.hasScrolled=!0;var c=parseFloat(options.submit.settings.scrollToError.offset)||0,u=parseFloat(options.submit.settings.scrollToError.duration)||500,p="block"===options.submit.settings.display?i:t;$("html, body").animate({scrollTop:p.offset().top+c},u)}}function displayErrors(){for(var e in errors)errors.hasOwnProperty(e)&&displayOneError(e)}function resetOneError(e,t,n,i,o){if(delete errors[e],i)options.submit.settings.inputContainer&&(o?n:t).parentsUntil(node,options.submit.settings.inputContainer).removeClass(options.submit.settings.errorClass),n&&n.removeClass(options.submit.settings.errorClass),t.removeClass(options.submit.settings.errorClass),"inline"===options.submit.settings.display&&i.find("["+_data.errorList+"]").remove();else{if(!t&&(t=node.find('[name="'+e+'"]'),!t[0]))return options.debug&&window.Debug.log({node:node,function:"resetOneError()",arguments:'[name="'+e+'"]',message:'ERROR - Unable to find input by name "'+e+'"'}),!1;t.trigger("coucou"+resetSuffix)}}function resetErrors(){errors=[],window.Validation.hasScrolled=!1,node.find("["+_data.errorList+"]").remove(),node.find("."+options.submit.settings.errorClass).removeClass(options.submit.settings.errorClass)}function submitForm(){node[0].submit()}function destroy(){return resetErrors(),node.find("["+_data.validation+"],["+_data.regex+"]").off(delegateSuffix+" "+resetSuffix),node.find(options.submit.settings.button).off(delegateSuffix).on("click"+delegateSuffix,function(){$(this).closest("form")[0].submit()}),!0}var errors=[],messages={},formData={},delegateSuffix=".vd",resetSuffix=".vr";window.Validation.hasScrolled=!1;var _getInputValue=function(e){var t;switch($(e).attr("type")){case"checkbox":t=$(e).is(":checked")?1:"";break;case"radio":t=node.find('input[name="'+$(e).attr("name")+'"]:checked').val()||"";break;default:t=$(e).val()}return t},_typeWatch=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}(),_executeCallback=function(e,t){if(!e)return!1;var n;if("function"==typeof e)n=e;else if("string"==typeof e||e instanceof Array){n=window,"string"==typeof e&&(e=[e,[]]);for(var i=e[0].split("."),o=e[1],r=!0,a=0;a<i.length;){if(void 0===n){r=!1;break}n=n[i[a++]]}if(!r||"function"!=typeof n)return options.debug&&window.Debug.log({node:node,function:"_executeCallback()",arguments:JSON.stringify(e),message:'WARNING - Invalid callback function"'}),!1}return n.apply(this,$.merge(o||[],t||[])),!0};return this.__construct=function(){extendOptions(),extendRules(),extendMessages(),delegateDynamicValidation(),delegateValidation(),options.debug&&window.Debug.print()}(),{registerError:registerError,displayOneError:displayOneError,displayErrors:displayErrors,resetOneError:resetOneError,resetErrors:resetErrors,destroy:destroy}};$.fn.validate=$.validate=function(e){return _api.validate(this,e)},$.fn.addValidation=function(e){return _api.addValidation(this,e)},$.fn.removeValidation=function(e){return _api.removeValidation(this,e)},$.fn.addError=function(e){return _api.addError(this,e)},$.fn.removeError=function(e){return _api.removeError(this,e)},$.fn.alterValidationRules=$.alterValidationRules=function(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++)_api.alterValidationRules(e[t])};var _api={_formatValidation:function(e){return e=e.toString().replace(/\s/g,""),"["===e.charAt(0)&&"]"===e.charAt(e.length-1)&&(e=e.replace(/^\[|]$/g,"")),e},_splitValidation:function(e){for(var t,n=this._formatValidation(e).split(","),i=0;i<n.length;i++)t=n[i],/^[a-z]+$/i.test(t)&&(n[i]=t.toUpperCase());return n},_joinValidation:function(e){return"["+e.join(", ")+"]"},validate:function(e,t){if("function"==typeof e){if(!t.submit.settings.form)return window.Debug.log({node:e,function:"$.validate()",arguments:"",message:'Undefined property "options.submit.settings.form - Validation dropped'}),void window.Debug.print();if(e=$(t.submit.settings.form),!e[0]||"form"!==e[0].nodeName.toLowerCase())return window.Debug.log({function:"$.validate()",arguments:t.submit.settings.form,message:"Unable to find jQuery form element - Validation dropped"}),void window.Debug.print()}else if(void 0===e[0])return window.Debug.log({node:e,function:"$.validate()",arguments:'$("'+e.selector+'").validate()',message:"Unable to find jQuery form element - Validation dropped"}),void window.Debug.print();return"destroy"===t?window.Validation.form[e.selector]?void window.Validation.form[e.selector].destroy():(window.Debug.log({node:e,function:'$.validate("destroy")',arguments:"",message:'Unable to destroy "'+e.selector+"\", perhaps it's already destroyed?"}),void window.Debug.print()):e.each(function(){window.Validation.form[e.selector]=new Validation($(this),t)})},addValidation:function(e,t){var n=this;return!!(t=n._splitValidation(t))&&e.each(function(){for(var e,i=$(this),o=i.attr(_data.validation),r=o&&o.length?n._splitValidation(o):[],a=0;a<t.length;a++)e=n._formatValidation(t[a]),-1===$.inArray(e,r)&&r.push(e);r.length&&i.attr(_data.validation,n._joinValidation(r))})},removeValidation:function(e,t){var n=this;return!!(t=n._splitValidation(t))&&e.each(function(){var e,i,o=$(this),r=o.attr(_data.validation),a=r&&r.length?n._splitValidation(r):[];if(!a.length)return o.removeAttr(_data.validation),!0;for(var s=0;s<t.length;s++)e=n._formatValidation(t[s]),-1!==(i=$.inArray(e,a))&&a.splice(i,1);if(!a.length)return o.removeAttr(_data.validation),!0;o.attr(_data.validation,n._joinValidation(a))})},addError:function(e,t){if(!window.Validation.form[e.selector])return window.Debug.log({node:e,function:"$.addError()",arguments:"window.Validation.form["+e.selector+"]",message:"ERROR - Invalid node selector"}),window.Debug.print(),!1;if("object"!=typeof t||"[object Object]"!==Object.prototype.toString.call(t))return window.Debug.log({node:e,function:"$.addError()",arguments:"window.Validation.form["+e.selector+"]",message:"ERROR - Invalid argument, must be type object"}),window.Debug.print(),!1;var n,i=!0;for(var o in t)if(t.hasOwnProperty(o))if(t[o]instanceof Array||(t[o]=[t[o]]),n=$(e.selector).find('[name="'+o+'"]'),n[0]){i&&(window.Validation.hasScrolled=!1,i=!1),window.Validation.form[e.selector].resetOneError(o,n);for(var r=0;r<t[o].length;r++)"string"==typeof t[o][r]?window.Validation.form[e.selector].registerError(o,t[o][r]):(window.Debug.log({node:e,function:"$.addError()",arguments:t[o][r],message:'ERROR - Invalid error object property - Accepted format: {"inputName": "errorString"} or {"inputName": ["errorString", "errorString"]}'}),window.Debug.print());window.Validation.form[e.selector].displayOneError(o)}else window.Debug.log({node:e,function:"$.addError()",arguments:o,message:"ERROR - Unable to find $("+e.selector+').find("[name="'+o+'"]")'}),window.Debug.print()},removeError:function(e,t){if(!window.Validation.form[e.selector])return window.Debug.log({node:e,function:"$.removeError()",arguments:"window.Validation.form["+e.selector+"]",message:"ERROR - Invalid node selector"}),window.Debug.print(),!1;if(!t)return window.Validation.form[e.selector].resetErrors(),!1;if("object"==typeof t&&"[object Array]"!==Object.prototype.toString.call(t))return window.Debug.log({node:e,function:"$.removeError()",arguments:t,message:"ERROR - Invalid inputName, must be type String or Array"}),window.Debug.print(),!1;t instanceof Array||(t=[t]);for(var n,i=0;i<t.length;i++)n=e.find('[name="'+t[i]+'"]'),n[0]?window.Validation.form[e.selector].resetOneError(t[i],n):(window.Debug.log({node:e,function:"$.removeError()",arguments:t[i],message:"ERROR - Unable to find $("+e.selector+').find("[name="'+t[i]+'"]")'}),window.Debug.print())},alterValidationRules:function(e){if(!e.rule||!e.regex&&!e.message)return window.Debug.log({function:"$.alterValidationRules()",message:"ERROR - Missing one or multiple parameter(s) {rule, regex, message}"}),window.Debug.print(),!1;if(e.rule=e.rule.toUpperCase(),e.regex){var t=_buildRegexFromString(e.regex);if(!(t instanceof RegExp))return window.Debug.log({function:"$.alterValidationRules(rule)",arguments:t.toString(),message:"ERROR - Invalid rule"}),window.Debug.print(),!1;_rules[e.rule]=t}return e.message&&(_messages[e.rule]=e.message),!0}};window.Debug={table:{},log:function(e){if(!e.message||"string"!=typeof e.message)return!1;this.table[e.message]=$.extend(Object.preventExtensions({node:"",function:"",arguments:""}),e)},print:function(){if($.isEmptyObject(this.table))return!1;console.group!==undefined||console.table!==undefined?(console.groupCollapsed("--- jQuery Form Validation Debug ---"),console.table?console.table(this.table):$.each(this.table,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()):console.log("Debug is not available on your current browser, try the most recent version of Chrome or Firefox."),this.table={}}},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1}),JSON||JSON.stringify||(JSON.stringify=function(e){var t=typeof e;if("object"!==t||null===e)return"string"===t&&(e='"'+e+'"'),String(e);var n,i,o=[],r=e&&e.constructor===Array;for(n in e)i=e[n],t=typeof i,"string"===t?i='"'+i+'"':"object"===t&&null!==i&&(i=JSON.stringify(i)),o.push((r?"":'"'+n+'": ')+String(i));return(r?"[":"{")+String(o)+(r?"]":"}")})}(window,document,__webpack_provided_window_dot_jQuery)}).call(window)}).call(exports,__webpack_require__("./node_modules/jquery/dist/jquery.js"))},"./node_modules/cropper/dist/cropper.js":function(e,t,n){/*!
 * Cropper v3.0.0
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2017 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2017-09-03T13:13:53.439Z
 */
!function(e,t){t(n("./node_modules/jquery/dist/jquery.js"))}(0,function(e){"use strict";function t(e){return"number"==typeof e&&!isNaN(e)}function n(e){return void 0===e}function i(e,n){var i=[];return t(n)&&i.push(n),i.slice.apply(e,i)}function o(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(t,o.concat(i(r)))}}function r(t){var n=[];return e.each(t,function(e){n.push(e)}),n}function a(e){var t=e.match(/^(https?:)\/\/([^:\/?#]+):?(\d*)/i);return t&&(t[1]!==location.protocol||t[2]!==location.hostname||t[3]!==location.port)}function s(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function l(e,t){if(e.naturalWidth&&!j)return void t(e.naturalWidth,e.naturalHeight);var n=document.createElement("img");n.onload=function(){t(this.width,this.height)},n.src=e.src}function d(e){var n=[],i=e.translateX,o=e.translateY,r=e.rotate,a=e.scaleX,s=e.scaleY;return t(i)&&0!==i&&n.push("translateX("+i+"px)"),t(o)&&0!==o&&n.push("translateY("+o+"px)"),t(r)&&0!==r&&n.push("rotate("+r+"deg)"),t(a)&&1!==a&&n.push("scaleX("+a+")"),t(s)&&1!==s&&n.push("scaleY("+s+")"),n.length?n.join(" "):"none"}function c(e,t){var n=Math.abs(e.degree)%180,i=(n>90?180-n:n)*Math.PI/180,o=Math.sin(i),r=Math.cos(i),a=e.width,s=e.height,l=e.aspectRatio,d=void 0,c=void 0;return t?(d=a/(r+o/l),c=d/l):(d=a*r+s*o,c=a*o+s*r),{width:d,height:c}}function u(n,i,o){var r=e("<canvas>")[0],a=r.getContext("2d"),s=0,l=0,d=i.naturalWidth,u=i.naturalHeight,p=i.rotate,f=i.scaleX,h=i.scaleY,g=t(f)&&t(h)&&(1!==f||1!==h),m=t(p)&&0!==p,v=m||g,b=d*Math.abs(f||1),w=u*Math.abs(h||1),y=void 0,x=void 0,C=void 0;return g&&(y=b/2,x=w/2),m&&(C=c({width:b,height:w,degree:p}),b=C.width,w=C.height,y=b/2,x=w/2),r.width=b,r.height=w,o.fillColor&&(a.fillStyle=o.fillColor,a.fillRect(0,0,b,w)),v&&(s=-d/2,l=-u/2,a.save(),a.translate(y,x)),m&&a.rotate(p*Math.PI/180),g&&a.scale(f,h),a.imageSmoothingEnabled=!!o.imageSmoothingEnabled,o.imageSmoothingQuality&&(a.imageSmoothingQuality=o.imageSmoothingQuality),a.drawImage(n,Math.floor(s),Math.floor(l),Math.floor(d),Math.floor(u)),v&&a.restore(),r}function p(e,t,n){var i="",o=void 0;for(o=t,n+=t;o<n;o+=1)i+=$(e.getUint8(o));return i}function f(e){var t=new DataView(e),n=t.byteLength,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,d=void 0,c=void 0,u=void 0,f=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(u=2;u<n;){if(255===t.getUint8(u)&&225===t.getUint8(u+1)){d=u;break}u+=1}if(d&&(o=d+4,r=d+10,"Exif"===p(t,o,4)&&(l=t.getUint16(r),((s=18761===l)||19789===l)&&42===t.getUint16(r+2,s)&&(a=t.getUint32(r+4,s))>=8&&(c=r+a))),c)for(n=t.getUint16(c,s),f=0;f<n;f+=1)if(u=c+12*f+2,274===t.getUint16(u,s)){u+=8,i=t.getUint16(u,s),j&&t.setUint16(u,1,s);break}return i}function h(e){var t=e.replace(C,""),n=atob(t),i=n.length,o=new ArrayBuffer(i),r=new Uint8Array(o),a=void 0;for(a=0;a<i;a+=1)r[a]=n.charCodeAt(a);return o}function g(e){var t=new Uint8Array(e),n=t.length,i="",o=void 0;for(o=0;o<n;o+=1)i+=$(t[o]);return"data:image/jpeg;base64,"+btoa(i)}function m(t,n){var i=t.pageX,o=t.pageY,r={endX:i,endY:o};return n?r:e.extend({startX:i,startY:o},r)}function v(t){var n=e.extend({},t),i=[];return e.each(t,function(t,o){delete n[t],e.each(n,function(e,t){var n=Math.abs(o.startX-t.startX),r=Math.abs(o.startY-t.startY),a=Math.abs(o.endX-t.endX),s=Math.abs(o.endY-t.endY),l=Math.sqrt(n*n+r*r),d=Math.sqrt(a*a+s*s),c=(d-l)/l;i.push(c)})}),i.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),i[0]}function b(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function w(t){var n=0,i=0,o=0;return e.each(t,function(e,t){var r=t.startX,a=t.startY;n+=r,i+=a,o+=1}),n/=o,i/=o,{pageX:n,pageY:i}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e=e&&e.hasOwnProperty("default")?e.default:e;var x={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},C=/^data:.*,/,_=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,E="undefined"!=typeof window?window.navigator:null,j=E&&_.test(E.userAgent),$=String.fromCharCode,D={render:function(){var e=this;e.initContainer(),e.initCanvas(),e.initCropBox(),e.renderCanvas(),e.cropped&&e.renderCropBox()},initContainer:function(){var e=this,t=e.options,n=e.$element,i=e.$container,o=e.$cropper,r="cropper-hidden";o.addClass(r),n.removeClass(r),o.css(e.container={width:Math.max(i.width(),Number(t.minContainerWidth)||200),height:Math.max(i.height(),Number(t.minContainerHeight)||100)}),n.addClass(r),o.removeClass(r)},initCanvas:function(){var t=this,n=t.options.viewMode,i=t.container,o=i.width,r=i.height,a=t.image,s=a.naturalWidth,l=a.naturalHeight,d=Math.abs(a.rotate)%180==90,c=d?l:s,u=d?s:l,p=c/u,f=o,h=r;r*p>o?3===n?f=r*p:h=o/p:3===n?h=o/p:f=r*p;var g={naturalWidth:c,naturalHeight:u,aspectRatio:p,width:f,height:h};g.left=(o-f)/2,g.top=(r-h)/2,g.oldLeft=g.left,g.oldTop=g.top,t.canvas=g,t.limited=1===n||2===n,t.limitCanvas(!0,!0),t.initialImage=e.extend({},a),t.initialCanvas=e.extend({},g)},limitCanvas:function(e,t){var n=this,i=n.options,o=i.viewMode,r=n.container,a=r.width,s=r.height,l=n.canvas,d=l.aspectRatio,c=n.cropBox,u=n.cropped&&c;if(e){var p=Number(i.minCanvasWidth)||0,f=Number(i.minCanvasHeight)||0;o&&(o>1?(p=Math.max(p,a),f=Math.max(f,s),3===o&&(f*d>p?p=f*d:f=p/d)):p?p=Math.max(p,u?c.width:0):f?f=Math.max(f,u?c.height:0):u&&(p=c.width,f=c.height,f*d>p?p=f*d:f=p/d)),p&&f?f*d>p?f=p/d:p=f*d:p?f=p/d:f&&(p=f*d),l.minWidth=p,l.minHeight=f,l.maxWidth=1/0,l.maxHeight=1/0}if(t)if(o){var h=a-l.width,g=s-l.height;l.minLeft=Math.min(0,h),l.minTop=Math.min(0,g),l.maxLeft=Math.max(0,h),l.maxTop=Math.max(0,g),u&&n.limited&&(l.minLeft=Math.min(c.left,c.left+c.width-l.width),l.minTop=Math.min(c.top,c.top+c.height-l.height),l.maxLeft=c.left,l.maxTop=c.top,2===o&&(l.width>=a&&(l.minLeft=Math.min(0,h),l.maxLeft=Math.max(0,h)),l.height>=s&&(l.minTop=Math.min(0,g),l.maxTop=Math.max(0,g))))}else l.minLeft=-l.width,l.minTop=-l.height,l.maxLeft=a,l.maxTop=s},renderCanvas:function(e){var t=this,n=t.canvas,i=t.image,o=i.rotate,r=i.naturalWidth,a=i.naturalHeight;if(t.rotated){t.rotated=!1;var s=c({width:i.width,height:i.height,degree:o}),l=s.width/s.height,u=1===i.aspectRatio;if(u||l!==n.aspectRatio){if(n.left-=(s.width-n.width)/2,n.top-=(s.height-n.height)/2,n.width=s.width,n.height=s.height,n.aspectRatio=l,n.naturalWidth=r,n.naturalHeight=a,u&&o%90||o%180){var p=c({width:r,height:a,degree:o});n.naturalWidth=p.width,n.naturalHeight=p.height}t.limitCanvas(!0,!1)}}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),t.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.$canvas.css({width:n.width,height:n.height,transform:d({translateX:n.left,translateY:n.top})}),t.renderImage(),t.cropped&&t.limited&&t.limitCropBox(!0,!0),e&&t.output()},renderImage:function(t){var n=this,i=n.canvas,o=n.image,r=void 0;o.rotate&&(r=c({width:i.width,height:i.height,degree:o.rotate,aspectRatio:o.aspectRatio},!0)),e.extend(o,r?{width:r.width,height:r.height,left:(i.width-r.width)/2,top:(i.height-r.height)/2}:{width:i.width,height:i.height,left:0,top:0}),n.$clone.css({width:o.width,height:o.height,transform:d(e.extend({translateX:o.left,translateY:o.top},o))}),t&&n.output()},initCropBox:function(){var t=this,n=t.options,i=t.canvas,o=n.aspectRatio,r=Number(n.autoCropArea)||.8,a={width:i.width,height:i.height};o&&(i.height*o>i.width?a.height=a.width/o:a.width=a.height*o),t.cropBox=a,t.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*r),a.height=Math.max(a.minHeight,a.height*r),a.left=i.left+(i.width-a.width)/2,a.top=i.top+(i.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,t.initialCropBox=e.extend({},a)},limitCropBox:function(e,t){var n=this,i=n.options,o=i.aspectRatio,r=n.container,a=r.width,s=r.height,l=n.canvas,d=n.cropBox,c=n.limited;if(e){var u=Number(i.minCropBoxWidth)||0,p=Number(i.minCropBoxHeight)||0,f=Math.min(a,c?l.width:a),h=Math.min(s,c?l.height:s);u=Math.min(u,a),p=Math.min(p,s),o&&(u&&p?p*o>u?p=u/o:u=p*o:u?p=u/o:p&&(u=p*o),h*o>f?h=f/o:f=h*o),d.minWidth=Math.min(u,f),d.minHeight=Math.min(p,h),d.maxWidth=f,d.maxHeight=h}t&&(c?(d.minLeft=Math.max(0,l.left),d.minTop=Math.max(0,l.top),d.maxLeft=Math.min(a,l.left+l.width)-d.width,d.maxTop=Math.min(s,l.top+l.height)-d.height):(d.minLeft=0,d.minTop=0,d.maxLeft=a-d.width,d.maxTop=s-d.height))},renderCropBox:function(){var e=this,t=e.options,n=e.container,i=n.width,o=n.height,r=e.cropBox;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),e.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&e.$face.data("action",r.width===i&&r.height===o?"move":"all"),e.$cropBox.css({width:r.width,height:r.height,transform:d({translateX:r.left,translateY:r.top})}),e.cropped&&e.limited&&e.limitCanvas(!0,!0),e.disabled||e.output()},output:function(){var e=this;e.preview(),e.completed&&e.trigger("crop",e.getData())}},O={initPreview:function(){var t=this,n=t.crossOrigin,i=n?t.crossOriginUrl:t.url,o=document.createElement("img");n&&(o.crossOrigin=n),o.src=i;var r=e(o);t.$preview=e(t.options.preview),t.$clone2=r,t.$viewBox.html(r),t.$preview.each(function(t,o){var r=e(o),a=document.createElement("img");r.data("preview",{width:r.width(),height:r.height(),html:r.html()}),n&&(a.crossOrigin=n),a.src=i,a.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',r.html(a)})},resetPreview:function(){this.$preview.each(function(t,n){var i=e(n),o=i.data("preview");i.css({width:o.width,height:o.height}).html(o.html).removeData("preview")})},preview:function(){var t=this,n=t.image,i=t.canvas,o=t.cropBox,r=o.width,a=o.height,s=n.width,l=n.height,c=o.left-i.left-n.left,u=o.top-i.top-n.top;t.cropped&&!t.disabled&&(t.$clone2.css({width:s,height:l,transform:d(e.extend({translateX:-c,translateY:-u},n))}),t.$preview.each(function(t,i){var o=e(i),p=o.data("preview"),f=p.width,h=p.height,g=f,m=h,v=1;r&&(v=f/r,m=a*v),a&&m>h&&(v=h/a,g=r*v,m=h),o.css({width:g,height:m}).find("img").css({width:s*v,height:l*v,transform:d(e.extend({translateX:-c*v,translateY:-u*v},n))})}))}},M="undefined"!=typeof window?window.PointerEvent:null,R=M?"pointerdown":"touchstart mousedown",T=M?"pointermove":"touchmove mousemove",A=M?" pointerup pointercancel":"touchend touchcancel mouseup",k={bind:function(){var t=this,n=t.options,i=t.$element,r=t.$cropper;e.isFunction(n.cropstart)&&i.on("cropstart",n.cropstart),e.isFunction(n.cropmove)&&i.on("cropmove",n.cropmove),e.isFunction(n.cropend)&&i.on("cropend",n.cropend),e.isFunction(n.crop)&&i.on("crop",n.crop),e.isFunction(n.zoom)&&i.on("zoom",n.zoom),r.on(R,o(t.cropStart,this)),n.zoomable&&n.zoomOnWheel&&r.on("wheel mousewheel DOMMouseScroll",o(t.wheel,this)),n.toggleDragModeOnDblclick&&r.on("dblclick",o(t.dblclick,this)),e(document).on(T,t.onCropMove=o(t.cropMove,this)).on(A,t.onCropEnd=o(t.cropEnd,this)),n.responsive&&e(window).on("resize",t.onResize=o(t.resize,this))},unbind:function(){var t=this,n=t.options,i=t.$element,o=t.$cropper;e.isFunction(n.cropstart)&&i.off("cropstart",n.cropstart),e.isFunction(n.cropmove)&&i.off("cropmove",n.cropmove),e.isFunction(n.cropend)&&i.off("cropend",n.cropend),e.isFunction(n.crop)&&i.off("crop",n.crop),e.isFunction(n.zoom)&&i.off("zoom",n.zoom),o.off(R,t.cropStart),n.zoomable&&n.zoomOnWheel&&o.off("wheel mousewheel DOMMouseScroll",t.wheel),n.toggleDragModeOnDblclick&&o.off("dblclick",t.dblclick),e(document).off(T,t.onCropMove).off(A,t.onCropEnd),n.responsive&&e(window).off("resize",t.onResize)}},S=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,N={resize:function(){var t=this,n=t.options,i=t.$container,o=t.container,r=Number(n.minContainerWidth)||200,a=Number(n.minContainerHeight)||100;if(!t.disabled&&o.width!==r&&o.height!==a){var s=i.width()/o.width;if(1!==s||i.height()!==o.height){var l=void 0,d=void 0;n.restore&&(l=t.getCanvasData(),d=t.getCropBoxData()),t.render(),n.restore&&(t.setCanvasData(e.each(l,function(e,t){l[e]=t*s})),t.setCropBoxData(e.each(d,function(e,t){d[e]=t*s})))}}},dblclick:function(){var e=this;e.disabled||"none"===e.options.dragMode||e.setDragMode(e.$dragBox.hasClass("cropper-crop")?"move":"crop")},wheel:function(e){var t=this,n=e.originalEvent||e,i=Number(t.options.wheelZoomRatio)||.1;if(!t.disabled&&(e.preventDefault(),!t.wheeling)){t.wheeling=!0,setTimeout(function(){t.wheeling=!1},50);var o=1;n.deltaY?o=n.deltaY>0?1:-1:n.wheelDelta?o=-n.wheelDelta/120:n.detail&&(o=n.detail>0?1:-1),t.zoom(-o*i,e)}},cropStart:function(t){var n=this;if(!n.disabled){var i=n.options,o=n.pointers,a=t.originalEvent,s=void 0;a&&a.changedTouches?e.each(a.changedTouches,function(e,t){o[t.identifier]=m(t)}):o[a&&a.pointerId||0]=m(a||t),s=r(o).length>1&&i.zoomable&&i.zoomOnTouch?"zoom":e(t.target).data("action"),S.test(s)&&(n.trigger("cropstart",{originalEvent:a,action:s}).isDefaultPrevented()||(t.preventDefault(),n.action=s,n.cropping=!1,"crop"===s&&(n.cropping=!0,n.$dragBox.addClass("cropper-modal"))))}},cropMove:function(t){var n=this,i=n.action;if(!n.disabled&&i){var o=n.pointers,r=t.originalEvent;t.preventDefault(),n.trigger("cropmove",{originalEvent:r,action:i}).isDefaultPrevented()||(r&&r.changedTouches?e.each(r.changedTouches,function(t,n){e.extend(o[n.identifier],m(n,!0))}):e.extend(o[r&&r.pointerId||0],m(r||t,!0)),n.change(t))}},cropEnd:function(t){var n=this;if(!n.disabled){var i=n.action,o=n.pointers,a=t.originalEvent;a&&a.changedTouches?e.each(a.changedTouches,function(e,t){delete o[t.identifier]}):delete o[a&&a.pointerId||0],i&&(t.preventDefault(),r(o).length||(n.action=""),n.cropping&&(n.cropping=!1,n.$dragBox.toggleClass("cropper-modal",n.cropped&&n.options.modal)),n.trigger("cropend",{originalEvent:a,action:i}))}}},I={change:function(t){var n=this,i=n.options,o=n.pointers,a=o[r(o)[0]],s=n.container,l=n.canvas,d=n.cropBox,c=n.action,u=i.aspectRatio,p=d.width,f=d.height,h=d.left,g=d.top,m=h+p,b=g+f,w=0,y=0,x=s.width,C=s.height,_=!0,E=void 0;!u&&t.shiftKey&&(u=p&&f?p/f:1),n.limited&&(w=d.minLeft,y=d.minTop,x=w+Math.min(s.width,l.width,l.left+l.width),C=y+Math.min(s.height,l.height,l.top+l.height));var j={x:a.endX-a.startX,y:a.endY-a.startY};switch(c){case"all":h+=j.x,g+=j.y;break;case"e":if(j.x>=0&&(m>=x||u&&(g<=y||b>=C))){_=!1;break}m+j.x>x&&(j.x=x-m),p+=j.x,u&&(f=p/u,g-=j.x/u/2),p<0&&(c="w",p=0);break;case"n":if(j.y<=0&&(g<=y||u&&(h<=w||m>=x))){_=!1;break}g+j.y<y&&(j.y=y-g),f-=j.y,g+=j.y,u&&(p=f*u,h+=j.y*u/2),f<0&&(c="s",f=0);break;case"w":if(j.x<=0&&(h<=w||u&&(g<=y||b>=C))){_=!1;break}h+j.x<w&&(j.x=w-h),p-=j.x,h+=j.x,u&&(f=p/u,g+=j.x/u/2),p<0&&(c="e",p=0);break;case"s":if(j.y>=0&&(b>=C||u&&(h<=w||m>=x))){_=!1;break}b+j.y>C&&(j.y=C-b),f+=j.y,u&&(p=f*u,h-=j.y*u/2),f<0&&(c="n",f=0);break;case"ne":if(u){if(j.y<=0&&(g<=y||m>=x)){_=!1;break}f-=j.y,g+=j.y,p=f*u}else j.x>=0?m<x?p+=j.x:j.y<=0&&g<=y&&(_=!1):p+=j.x,j.y<=0?g>y&&(f-=j.y,g+=j.y):(f-=j.y,g+=j.y);p<0&&f<0?(c="sw",f=0,p=0):p<0?(c="nw",p=0):f<0&&(c="se",f=0);break;case"nw":if(u){if(j.y<=0&&(g<=y||h<=w)){_=!1;break}f-=j.y,g+=j.y,p=f*u,h+=j.y*u}else j.x<=0?h>w?(p-=j.x,h+=j.x):j.y<=0&&g<=y&&(_=!1):(p-=j.x,h+=j.x),j.y<=0?g>y&&(f-=j.y,g+=j.y):(f-=j.y,g+=j.y);p<0&&f<0?(c="se",f=0,p=0):p<0?(c="ne",p=0):f<0&&(c="sw",f=0);break;case"sw":if(u){if(j.x<=0&&(h<=w||b>=C)){_=!1;break}p-=j.x,h+=j.x,f=p/u}else j.x<=0?h>w?(p-=j.x,h+=j.x):j.y>=0&&b>=C&&(_=!1):(p-=j.x,h+=j.x),j.y>=0?b<C&&(f+=j.y):f+=j.y;p<0&&f<0?(c="ne",f=0,p=0):p<0?(c="se",p=0):f<0&&(c="nw",f=0);break;case"se":if(u){if(j.x>=0&&(m>=x||b>=C)){_=!1;break}p+=j.x,f=p/u}else j.x>=0?m<x?p+=j.x:j.y>=0&&b>=C&&(_=!1):p+=j.x,j.y>=0?b<C&&(f+=j.y):f+=j.y;p<0&&f<0?(c="nw",f=0,p=0):p<0?(c="sw",p=0):f<0&&(c="ne",f=0);break;case"move":n.move(j.x,j.y),_=!1;break;case"zoom":n.zoom(v(o),t.originalEvent),_=!1;break;case"crop":if(!j.x||!j.y){_=!1;break}E=n.$cropper.offset(),h=a.startX-E.left,g=a.startY-E.top,p=d.minWidth,f=d.minHeight,j.x>0?c=j.y>0?"se":"ne":j.x<0&&(h-=p,c=j.y>0?"sw":"nw"),j.y<0&&(g-=f),n.cropped||(n.$cropBox.removeClass("cropper-hidden"),n.cropped=!0,n.limited&&n.limitCropBox(!0,!0))}_&&(d.width=p,d.height=f,d.left=h,d.top=g,n.action=c,n.renderCropBox()),e.each(o,function(e,t){t.startX=t.endX,t.startY=t.endY})}},F={crop:function(){var e=this;e.ready&&!e.disabled&&(e.cropped||(e.cropped=!0,e.limitCropBox(!0,!0),e.options.modal&&e.$dragBox.addClass("cropper-modal"),e.$cropBox.removeClass("cropper-hidden")),e.setCropBoxData(e.initialCropBox))},reset:function(){var t=this;t.ready&&!t.disabled&&(t.image=e.extend({},t.initialImage),t.canvas=e.extend({},t.initialCanvas),t.cropBox=e.extend({},t.initialCropBox),t.renderCanvas(),t.cropped&&t.renderCropBox())},clear:function(){var t=this;t.cropped&&!t.disabled&&(e.extend(t.cropBox,{left:0,top:0,width:0,height:0}),t.cropped=!1,t.renderCropBox(),t.limitCanvas(!0,!0),t.renderCanvas(),t.$dragBox.removeClass("cropper-modal"),t.$cropBox.addClass("cropper-hidden"))},replace:function(e,t){var n=this;!n.disabled&&e&&(n.isImg&&n.$element.attr("src",e),t?(n.url=e,n.$clone.attr("src",e),n.ready&&n.$preview.find("img").add(n.$clone2).attr("src",e)):(n.isImg&&(n.replaced=!0),n.options.data=null,n.load(e)))},enable:function(){var e=this;e.ready&&(e.disabled=!1,e.$cropper.removeClass("cropper-disabled"))},disable:function(){var e=this;e.ready&&(e.disabled=!0,e.$cropper.addClass("cropper-disabled"))},destroy:function(){var e=this,t=e.$element;e.loaded?(e.isImg&&e.replaced&&t.attr("src",e.originalUrl),e.unbuild(),t.removeClass("cropper-hidden")):e.isImg?t.off("load",e.start):e.$clone&&e.$clone.remove(),t.removeData("cropper")},move:function(e,t){var i=this,o=i.canvas;i.moveTo(n(e)?e:o.left+Number(e),n(t)?t:o.top+Number(t))},moveTo:function(e,i){var o=this,r=o.canvas,a=!1;n(i)&&(i=e),e=Number(e),i=Number(i),o.ready&&!o.disabled&&o.options.movable&&(t(e)&&(r.left=e,a=!0),t(i)&&(r.top=i,a=!0),a&&o.renderCanvas(!0))},zoom:function(e,t){var n=this,i=n.canvas;e=Number(e),e=e<0?1/(1-e):1+e,n.zoomTo(i.width*e/i.naturalWidth,t)},zoomTo:function(e,t){var n=this,i=n.options,o=n.pointers,a=n.canvas,s=a.width,l=a.height,d=a.naturalWidth,c=a.naturalHeight;if((e=Number(e))>=0&&n.ready&&!n.disabled&&i.zoomable){var u=d*e,p=c*e,f=void 0;if(t&&(f=t.originalEvent),n.trigger("zoom",{originalEvent:f,oldRatio:s/d,ratio:u/d}).isDefaultPrevented())return;if(f){var h=n.$cropper.offset(),g=o&&r(o).length?w(o):{pageX:t.pageX||f.pageX||0,pageY:t.pageY||f.pageY||0};a.left-=(u-s)*((g.pageX-h.left-a.left)/s),a.top-=(p-l)*((g.pageY-h.top-a.top)/l)}else a.left-=(u-s)/2,a.top-=(p-l)/2;a.width=u,a.height=p,n.renderCanvas(!0)}},rotate:function(e){var t=this;t.rotateTo((t.image.rotate||0)+Number(e))},rotateTo:function(e){var n=this;e=Number(e),t(e)&&n.ready&&!n.disabled&&n.options.rotatable&&(n.image.rotate=e%360,n.rotated=!0,n.renderCanvas(!0))},scale:function(e,i){var o=this,r=o.image,a=!1;n(i)&&(i=e),e=Number(e),i=Number(i),o.ready&&!o.disabled&&o.options.scalable&&(t(e)&&(r.scaleX=e,a=!0),t(i)&&(r.scaleY=i,a=!0),a&&o.renderImage(!0))},scaleX:function(e){var n=this,i=n.image.scaleY;n.scale(e,t(i)?i:1)},scaleY:function(e){var n=this,i=n.image.scaleX;n.scale(t(i)?i:1,e)},getData:function(t){var n=this,i=n.options,o=n.image,r=n.canvas,a=n.cropBox,s=void 0,l=void 0;return n.ready&&n.cropped?(l={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height},s=o.width/o.naturalWidth,e.each(l,function(e,n){n/=s,l[e]=t?Math.round(n):n})):l={x:0,y:0,width:0,height:0},i.rotatable&&(l.rotate=o.rotate||0),i.scalable&&(l.scaleX=o.scaleX||1,l.scaleY=o.scaleY||1),l},setData:function(n){var i=this,o=i.options,r=i.image,a=i.canvas,s={},l=void 0,d=void 0,c=void 0;e.isFunction(n)&&(n=n.call(i.element)),i.ready&&!i.disabled&&e.isPlainObject(n)&&(o.rotatable&&t(n.rotate)&&n.rotate!==r.rotate&&(r.rotate=n.rotate,l=!0,i.rotated=l),o.scalable&&(t(n.scaleX)&&n.scaleX!==r.scaleX&&(r.scaleX=n.scaleX,d=!0),t(n.scaleY)&&n.scaleY!==r.scaleY&&(r.scaleY=n.scaleY,d=!0)),l?i.renderCanvas():d&&i.renderImage(),c=r.width/r.naturalWidth,t(n.x)&&(s.left=n.x*c+a.left),t(n.y)&&(s.top=n.y*c+a.top),t(n.width)&&(s.width=n.width*c),t(n.height)&&(s.height=n.height*c),i.setCropBoxData(s))},getContainerData:function(){return this.ready?this.container:{}},getImageData:function(){return this.loaded?this.image:{}},getCanvasData:function(){var t=this,n=t.canvas,i={};return t.ready&&e.each(["left","top","width","height","naturalWidth","naturalHeight"],function(e,t){i[t]=n[t]}),i},setCanvasData:function(n){var i=this,o=i.canvas,r=o.aspectRatio;e.isFunction(n)&&(n=n.call(i.$element)),i.ready&&!i.disabled&&e.isPlainObject(n)&&(t(n.left)&&(o.left=n.left),t(n.top)&&(o.top=n.top),t(n.width)?(o.width=n.width,o.height=n.width/r):t(n.height)&&(o.height=n.height,o.width=n.height*r),i.renderCanvas(!0))},getCropBoxData:function(){var e=this,t=e.cropBox;return e.ready&&e.cropped?{left:t.left,top:t.top,width:t.width,height:t.height}:{}},setCropBoxData:function(n){var i=this,o=i.cropBox,r=i.options.aspectRatio,a=void 0,s=void 0;e.isFunction(n)&&(n=n.call(i.$element)),i.ready&&i.cropped&&!i.disabled&&e.isPlainObject(n)&&(t(n.left)&&(o.left=n.left),t(n.top)&&(o.top=n.top),t(n.width)&&n.width!==o.width&&(a=!0,o.width=n.width),t(n.height)&&n.height!==o.height&&(s=!0,o.height=n.height),r&&(a?o.height=o.width/r:s&&(o.width=o.height*r)),i.renderCropBox())},getCroppedCanvas:function(t){var n=this;if(!n.ready||!window.HTMLCanvasElement)return null;if(e.isPlainObject(t)||(t={}),!n.cropped)return u(n.$clone[0],n.image,t);var i=n.getData(),o=i.width,r=i.height,a=o/r,s=void 0,l=void 0,d=void 0;e.isPlainObject(t)&&(s=t.width,l=t.height,s?(l=s/a,d=s/o):l&&(s=l*a,d=l/r));var c=Math.floor(s||o),p=Math.floor(l||r),f=e("<canvas>")[0],h=f.getContext("2d");f.width=c,f.height=p,t.fillColor&&(h.fillStyle=t.fillColor,h.fillRect(0,0,c,p));var g=function(){var e=u(n.$clone[0],n.image,t),a=e.width,s=e.height,l=n.canvas,c=[e],p=i.x+l.naturalWidth*(Math.abs(i.scaleX||1)-1)/2,f=i.y+l.naturalHeight*(Math.abs(i.scaleY||1)-1)/2,h=void 0,g=void 0,m=void 0,v=void 0,b=void 0,w=void 0;return p<=-o||p>a?(p=0,h=0,m=0,b=0):p<=0?(m=-p,p=0,b=Math.min(a,o+p),h=b):p<=a&&(m=0,b=Math.min(o,a-p),h=b),h<=0||f<=-r||f>s?(f=0,g=0,v=0,w=0):f<=0?(v=-f,f=0,w=Math.min(s,r+f),g=w):f<=s&&(v=0,w=Math.min(r,s-f),g=w),c.push(Math.floor(p),Math.floor(f),Math.floor(h),Math.floor(g)),d&&(m*=d,v*=d,b*=d,w*=d),b>0&&w>0&&c.push(Math.floor(m),Math.floor(v),Math.floor(b),Math.floor(w)),c}();return h.imageSmoothingEnabled=!!t.imageSmoothingEnabled,t.imageSmoothingQuality&&(h.imageSmoothingQuality=t.imageSmoothingQuality),h.drawImage.apply(h,b(g)),f},setAspectRatio:function(e){var t=this,i=t.options;t.disabled||n(e)||(i.aspectRatio=Math.max(0,e)||NaN,t.ready&&(t.initCropBox(),t.cropped&&t.renderCropBox()))},setDragMode:function(e){var t=this,n=t.options,i=void 0,o=void 0;t.loaded&&!t.disabled&&(i="crop"===e,o=n.movable&&"move"===e,e=i||o?e:"none",t.$dragBox.data("action",e).toggleClass("cropper-crop",i).toggleClass("cropper-move",o),n.cropBoxMovable||t.$face.data("action",e).toggleClass("cropper-crop",i).toggleClass("cropper-move",o))}},L=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),B=/^data:/,V=/^data:image\/jpeg;base64,/,z=function(){function t(n,i){y(this,t);var o=this;o.$element=e(n),o.options=e.extend({},x,e.isPlainObject(i)&&i),o.loaded=!1,o.ready=!1,o.completed=!1,o.rotated=!1,o.cropped=!1,o.disabled=!1,o.replaced=!1,o.limited=!1,o.wheeling=!1,o.isImg=!1,o.originalUrl="",o.canvas=null,o.cropBox=null,o.pointers={},o.init()}return L(t,[{key:"init",value:function(){var e=this,t=e.$element,n=void 0;if(t.is("img")){if(e.isImg=!0,n=t.attr("src"),e.originalUrl=n,!n)return;n=t.prop("src")}else t.is("canvas")&&window.HTMLCanvasElement&&(n=t[0].toDataURL());e.load(n)}},{key:"trigger",value:function(t,n){var i=e.Event(t,n);return this.$element.trigger(i),i}},{key:"load",value:function(t){var n=this,i=n.options,o=n.$element;if(t){if(n.url=t,n.image={},!i.checkOrientation||!window.ArrayBuffer)return void n.clone();if(B.test(t))return void(V.test(t)?n.read(h(t)):n.clone());var r=new XMLHttpRequest;r.onerror=e.proxy(function(){n.clone()},this),r.onload=function(){n.read(this.response)},i.checkCrossOrigin&&a(t)&&o.prop("crossOrigin")&&(t=s(t)),r.open("get",t),r.responseType="arraybuffer",r.withCredentials="use-credentials"===o.prop("crossOrigin"),r.send()}}},{key:"read",value:function(e){var t=this,n=t.options,i=f(e),o=t.image,r=0,a=1,s=1;if(i>1)switch(t.url=g(e),i){case 2:a=-1;break;case 3:r=-180;break;case 4:s=-1;break;case 5:r=90,s=-1;break;case 6:r=90;break;case 7:r=90,a=-1;break;case 8:r=-90}n.rotatable&&(o.rotate=r),n.scalable&&(o.scaleX=a,o.scaleY=s),t.clone()}},{key:"clone",value:function(){var t=this,n=t.options,i=t.$element,o=t.url,r="",l=void 0;n.checkCrossOrigin&&a(o)&&(r=i.prop("crossOrigin"),r?l=o:(r="anonymous",l=s(o))),t.crossOrigin=r,t.crossOriginUrl=l;var d=document.createElement("img");r&&(d.crossOrigin=r),d.src=l||o;var c=e(d);t.$clone=c,t.isImg?i[0].complete?t.start():i.one("load",e.proxy(t.start,this)):c.one("load",e.proxy(t.start,this)).one("error",e.proxy(t.stop,this)).addClass("cropper-hide").insertAfter(i)}},{key:"start",value:function(){var t=this,n=t.$clone,i=t.$element;t.isImg||(n.off("error",t.stop),i=n),l(i[0],function(n,i){e.extend(t.image,{naturalWidth:n,naturalHeight:i,aspectRatio:n/i}),t.loaded=!0,t.build()})}},{key:"stop",value:function(){var e=this;e.$clone.remove(),e.$clone=null}},{key:"build",value:function(){var t=this,n=t.options,i=t.$element,o=t.$clone;if(t.loaded){t.ready&&t.unbuild();var r=e('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'),a=r.find(".cropper-crop-box"),s=a.find(".cropper-face");t.$container=i.parent(),t.$cropper=r,t.$canvas=r.find(".cropper-canvas").append(o),t.$dragBox=r.find(".cropper-drag-box"),t.$cropBox=a,t.$viewBox=r.find(".cropper-view-box"),t.$face=s,i.addClass("cropper-hidden").after(r),t.isImg||o.removeClass("cropper-hide"),t.initPreview(),t.bind(),n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,t.cropped=n.autoCrop,n.autoCrop?n.modal&&t.$dragBox.addClass("cropper-modal"):a.addClass("cropper-hidden"),n.guides||a.find(".cropper-dashed").addClass("cropper-hidden"),n.center||a.find(".cropper-center").addClass("cropper-hidden"),n.cropBoxMovable&&s.addClass("cropper-move").data("action","all"),n.highlight||s.addClass("cropper-invisible"),n.background&&r.addClass("cropper-bg"),n.cropBoxResizable||a.find(".cropper-line, .cropper-point").addClass("cropper-hidden"),t.setDragMode(n.dragMode),t.render(),t.ready=!0,t.setData(n.data),t.completing=setTimeout(function(){e.isFunction(n.ready)&&i.one("ready",n.ready),t.trigger("ready"),t.trigger("crop",t.getData()),t.completed=!0},0)}}},{key:"unbuild",value:function(){var e=this;e.ready&&(e.completed||clearTimeout(e.completing),e.ready=!1,e.completed=!1,e.initialImage=null,e.initialCanvas=null,e.initialCropBox=null,e.container=null,e.canvas=null,e.cropBox=null,e.unbind(),e.resetPreview(),e.$preview=null,e.$viewBox=null,e.$cropBox=null,e.$dragBox=null,e.$canvas=null,e.$container=null,e.$cropper.remove(),e.$cropper=null)}}],[{key:"setDefaults",value:function(t){e.extend(x,e.isPlainObject(t)&&t)}}]),t}();e.extend(z.prototype,D),e.extend(z.prototype,O),e.extend(z.prototype,k),e.extend(z.prototype,N),e.extend(z.prototype,I),e.extend(z.prototype,F);var H=e.fn.cropper;e.fn.cropper=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r=void 0;return this.each(function(n,o){var a=e(o),s=a.data("cropper");if(!s){if(/destroy/.test(t))return;var l=e.extend({},a.data(),e.isPlainObject(t)&&t);a.data("cropper",s=new z(o,l))}if("string"==typeof t){var d=s[t];e.isFunction(d)&&(r=d.apply(s,i))}}),void 0!==r?r:this},e.fn.cropper.Constructor=z,e.fn.cropper.setDefaults=z.setDefaults,e.fn.cropper.noConflict=function(){return e.fn.cropper=H,this}})}},["./build/_js/_custom/main.js"]);
//# sourceMappingURL=main.71e2ccf1e543e2526f25.js.map